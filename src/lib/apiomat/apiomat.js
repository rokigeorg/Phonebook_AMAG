(function(a){function c(){if(N){I||e();var b={name:N,segment:I};a.add_event({key:"[CLY]_view",dur:l()-O,segmentation:b});N=null}}function b(b){if(!a.ignore_bots||!T)if(!a.app_key||!a.device_id)g("app_key or device_id is missing");else{b.app_key=a.app_key;b.device_id=a.device_id;a.country_code&&(b.country_code=a.country_code);a.city&&(b.city=a.city);null!==a.ip_address&&(b.ip_address=a.ip_address);b.timestamp=l();var c=new Date;b.hour=c.getHours();b.dow=c.getDay();w.push(b);G("cly_queue",w,!0)}}function f(){if("undefined"!==
typeof a.q&&0<a.q.length){for(var D,c=0;c<a.q.length;c++)if(D=a.q[c],g("Processing queued call",D),"function"===typeof D)D();else if(D.constructor===Array&&0<D.length)if("undefined"!==typeof a[D[0]])a[D[0]].apply(null,D.slice(1));else{var e=D[0].replace("userData.","");"undefined"!==typeof a.userData[e]&&a.userData[e].apply(null,D.slice(1))}a.q=[]}m&&(E&&k)&&(D=l(),60<D-u&&(a.session_duration(D-u),u=D));0<y.length&&(10>=y.length?(b({events:JSON.stringify(y)}),y=[]):(D=y.splice(0,10),b({events:JSON.stringify(D)})));
0<w.length&&(L&&l()>B)&&(L=!1,D=w.shift(),g("Processing request",D),v(D,function(a,b){g("Request Finished",b,a);a&&(w.unshift(b),G("cly_queue",w,!0),B=l()+R);L=!0}),G("cly_queue",w,!0));setTimeout(f,x)}function d(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?c:c&3|8).toString(16)})}function e(){var b={};b._app_version=a.app_version;screen.width&&(b._resolution=""+(screen.width?
screen.width:"")+"x"+(screen.height?screen.height:""));var c=navigator.appVersion,k=navigator.userAgent,e=navigator.appName,d,s;if(-1!=k.indexOf("Opera Mini"))e="Opera Mini";else if(-1!=k.indexOf("Opera"))e="Opera";else if(-1!=k.indexOf("MSIE"))e="Internet Explorer";else if(-1!=k.indexOf("IEMobile"))e="IE Mobile";else if(-1!=k.indexOf("Chrome"))e="Chrome";else if(-1!=k.indexOf("Safari"))e="Safari";else if(-1!=k.indexOf("Firefox"))e="Firefox";else if(-1!=k.indexOf("Trident/"))e="Internet Explorer";
else if(-1!=k.indexOf("FBAN/"))e="Facebook app";else if((d=k.lastIndexOf(" ")+1)<(s=k.lastIndexOf("/")))e=k.substring(d,s),e.toLowerCase()==e.toUpperCase()&&(e=navigator.appName);b._browser=e;e="unknown";d=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},
{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Windows Phone",r:/Windows Phone/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},
{s:"Mac OSX",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"SearchBot",r:U}];for(var h in d)if(s=d[h],s.r.test(k)){e=s.s;break}h="unknown";/Windows/.test(e)&&"Windows Phone"!=e&&(h=/Windows (.*)/.exec(e)[1],e="Windows");switch(e){case "Mac OSX":h=/Mac OS X (10[\.\_\d]+)/.exec(k)[1];break;case "Windows Phone":h=(/Windows Phone ([\.\_\d]+)/.exec(k)||["","8.0"])[1];break;case "Android":h=/Android ([\.\_\d]+)/.exec(k)[1];
break;case "iOS":h=/OS (\d+)_(\d+)_?(\d+)?/.exec(c),h=h[1]+"."+h[2]+"."+(h[3]|0)}I=b._os=e;b._os_version=h;c=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage;"undefined"!==typeof c&&(b._locale=c);if("undefined"!==typeof document.referrer&&document.referrer.length&&(c=S.exec(document.referrer))&&c[11]&&c[11]!=window.location.hostname)b._store=document.referrer;g("Got metrics",b);return b}function g(){a.debug&&"undefined"!==typeof console&&(arguments[1]&&
"object"==typeof arguments[1]&&(arguments[1]=JSON.stringify(arguments[1])),console.log(Array.prototype.slice.call(arguments).join("\n")))}function l(){return Math.floor((new Date).getTime()/1E3)}function t(a,c,k){k=k||r;var d="";"object"===typeof a?"undefined"!==typeof a.stack?d=a.stack:("undefined"!==typeof a.name&&(d+=a.name+":"),"undefined"!==typeof a.message&&(d+=a.message+"\n"),"undefined"!==typeof a.fileName&&(d+="in "+a.fileName+"\n"),"undefined"!==typeof a.lineNumber&&(d+="on "+a.lineNumber),
"undefined"!==typeof a.columnNumber&&(d+=":"+a.columnNumber)):d=a+"";c=c?!0:!1;a=e();var d={_os:a._os,_os_version:a._os_version,_resolution:a._resolution,_error:d,_app_version:a._app_version,_run:l()-s,_not_os_specific:!0},h=navigator.battery||navigator.webkitBattery||navigator.mozBattery||navigator.msBattery;h&&(d._bat=Math.floor(100*h.level));"undefined"!==typeof navigator.onLine&&(d._online=navigator.onLine?!0:!1);d._background=document.hasFocus()?!1:!0;0<A.length&&(d._logs=A.join("\n"));A=[];
d._nonfatal=c;d._view=(window.location.pathname||"")+(window.location.search||"")+(window.location.hash||"");d._browser=a._browser;"undefined"!==typeof k&&(d._custom=k);try{var g=document.createElement("canvas").getContext("experimental-webgl");d._opengl=g.getParameter(g.VERSION)}catch(J){}b({crash:JSON.stringify(d)})}function v(b,c){try{g("Sending XML HTTP request");var k=window.XMLHttpRequest?new window.XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;k.open("GET",
a.url+h+"?"+C(b),!0);k.onreadystatechange=function(){4===this.readyState&&200<=this.status&&300>this.status?"function"===typeof c&&c(!1,b):4===this.readyState&&(g("Failed Server XML HTTP request",this.status),"function"===typeof c&&c(!0,b))};k.send()}catch(e){g("Failed XML HTTP request",e),"function"===typeof c&&c(!0,b)}}function C(a){var b=[],c;for(c in a)b.push(c+"\x3d"+encodeURIComponent(a[c]));return b.join("\x26")}function F(a,b){for(var c={},k,e=0;e<b.length;e++)k=b[e],"undefined"!==typeof a[k]&&
(c[k]=a[k]);return c}function q(a){"undefined"==typeof a.pageY&&("number"==typeof a.clientX&&document.documentElement)&&(a.pageX=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.pageY=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);return a}function z(){var a=document;return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))}
function H(){var a=document;return Math.max(Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),Math.max(a.body.offsetWidth,a.documentElement.offsetWidth),Math.max(a.body.clientWidth,a.documentElement.clientWidth))}var n=!1,m=!1,h="/i",x=500,w=[],y=[],A=[],p={},r=null,E=!0,u,P=0,N=null,O=0,V=0,B=0,R=60,L=!0,I,S=/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,U=
/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver|bingbot|Google Web Preview|Mediapartners-Google|AdsBot-Google|Baiduspider|Ezooms|YahooSeeker|AltaVista|AVSearch|Mercator|Scooter|InfoSeek|Ultraseek|Lycos|Wget|YandexBot|SiteBot|Exabot|AhrefsBot|MJ12bot|TurnitinBot|magpie-crawler|Nutch Crawler|CMS Crawler|rogerbot|Domnutch|ssearch_bot|XoviBot|netseer|digincore|fr-crawler)/,T=!1,k=!0,s;a.init=function(b){if(!n){s=l();n=!0;w=G("cly_queue")||[];p=G("cly_timed")||{};b=b||{};x=
b.interval||a.interval||x;R=b.fail_timeout||a.fail_timeout||R;a.debug=b.debug||a.debug||!1;a.app_key=b.app_key||a.app_key||null;var c=a,k;if(!(k=b.device_id))if(!(k=a.device_id))k=G("cly_id")||d(),G("cly_id",k);c.device_id=k;c=a;k=b.url||a.url||"https://cloud.count.ly";k="/"==k.substr(k.length-1)?k.substr(0,k.length-1):k;c.url=k;a.app_version=b.app_version||a.app_version||"0.0";a.country_code=b.country_code||a.country_code||null;a.city=b.city||a.city||null;a.ip_address=b.ip_address||a.ip_address||
null;a.ignore_bots=b.ignore_bots||a.ignore_bots||!0;a.q=a.q||[];g("Countly initialized");U.test(navigator.userAgent)&&(T=!0);a.q.constructor!==Array&&(a.q=[]);f();G("cly_id",a.device_id);if(location.search){b=location.search.substring(1).split("\x26");for(c=0;c<b.length;c++)k=b[c].split("\x3d"),"cly_id"==k[0]?G("cly_cmp_id",k[1]):"cly_uid"==k[0]&&G("cly_cmp_uid",k[1])}}};a.begin_session=function(a){m||(g("Session started"),u=l(),m=!0,E=a?!1:!0,a={begin_session:1},a.metrics=JSON.stringify(e()),b(a))};
a.session_duration=function(a){m&&(g("Session extended",a),b({session_duration:a}))};a.end_session=function(a){m&&(a=a||l()-u,g("Ending session"),c(),m=!1,b({end_session:1,session_duration:a}),f())};a.change_id=function(c,k){var e=a.device_id;a.device_id=c;G("cly_id",a.device_id);g("Changing id");k&&b({old_device_id:e})};a.add_event=function(a){if(a.key){a.count||(a.count=1);var b=F(a,["key","count","sum","dur","segmentation"]);b.timestamp=l();var c=new Date;b.hour=c.getHours();b.dow=c.getDay();y.push(b);
g("Adding event: ",a)}else g("Event must have key property")};a.start_event=function(a){p[a]?g("Timed event with key "+a+" already started"):(p[a]=l(),G("cly_timed",p))};a.end_event=function(b){"string"==typeof b&&(b={key:b});b.key?p[b.key]?(b.dur=l()-p[b.key],a.add_event(b),delete p[b.key],G("cly_timed",p)):g("Timed event with key "+key+" was not started"):g("Event must have key property")};a.user_details=function(a){g("Adding userdetails: ",a);b({user_details:JSON.stringify(F(a,"name username email organization phone picture gender byear custom".split(" ")))})};
a.report_conversion=function(a,c){a=a||G("cly_cmp_id");c=c||G("cly_cmp_uid");a&&c?b({campaign_id:a,campaign_user:c}):a?b({campaign_id:a}):g("No campaign data found")};var J={},Q=function(a,b,c){J[a]||(J[a]={});"$push"==c||"$pull"==c||"$addToSet"==c?(J[a][c]||(J[a][c]=[]),J[a][c].push(b)):J[a][c]=b};a.userData={set:function(a,b){J[a]=b},set_once:function(a,b){Q(a,1,"$setOnce")},increment:function(a){Q(a,1,"$inc")},increment_by:function(a,b){Q(a,b,"$inc")},multiply:function(a,b){Q(a,b,"$mul")},max:function(a,
b){Q(a,b,"$max")},min:function(a,b){Q(a,b,"$min")},push:function(a,b){Q(a,b,"$push")},push_unique:function(a,b){Q(a,b,"$addToSet")},pull:function(a,b){Q(a,b,"$pull")},save:function(){b({user_details:JSON.stringify({custom:J})});J={}}};a.track_errors=function(a){r=a;window.onerror=function(a,b,c,k,e){if("undefined"!==typeof e)t(e,!1);else{k=k||window.event&&window.event.errorCharacter;var d="";"undefined"!==typeof a&&(d+=a+"\n");"undefined"!==typeof b&&(d+="at "+b);"undefined"!==typeof c&&(d+=":"+
c);"undefined"!==typeof k&&(d+=":"+k);d+="\n";try{for(var s=[],h=arguments.callee.caller;h;)s.push(h.name),h=h.caller;d+=s.join("\n")}catch(g){}t(d,!1)}}};a.log_error=function(a,b){t(a,!0,b)};a.add_log=function(a){A.push(a)};a.stop_time=function(){k=!1;P=l()-u;V=l()-O};a.start_time=function(){k=!0;u=l()-P;O=l()-V;V=0};a.track_sessions=function(){function b(){document[c]?a.stop_time():a.start_time()}a.begin_session();a.start_time();K(window,"beforeunload",function(){a.end_session()});K(window,"unload",
function(){a.end_session()});var c="hidden";c in document?document.addEventListener("visibilitychange",b):(c="mozHidden")in document?document.addEventListener("mozvisibilitychange",b):(c="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",b):(c="msHidden")in document?document.addEventListener("msvisibilitychange",b):"onfocusin"in document?(K(window,"focusin",function(){a.start_time()}),K(window,"focusout",function(){a.stop_time()})):(K(window,"focus",function(){a.start_time()}),
K(window,"blur",function(){a.stop_time()}),K(window,"pageshow",function(){a.start_time()}),K(window,"pagehide",function(){a.stop_time()}))};a.track_pageview=function(b){c();N=b=b||window.location.pathname;O=l();I||e();b={name:b,visit:1,segment:I,domain:window.location.hostname};if("undefined"!==typeof document.referrer&&document.referrer.length){var k=S.exec(document.referrer);k&&(k[11]&&k[11]!=window.location.hostname)&&(b.start=1)}a.add_event({key:"[CLY]_view",segmentation:b})};a.track_clicks=function(){function b(k){if(c){c=
!1;q(k);if("undefined"!==typeof k.pageX&&"undefined"!==typeof k.pageY){var e=z(),d=H();a.add_event({key:"[CLY]_action",segmentation:{type:"click",x:k.pageX,y:k.pageY,width:d,height:e,domain:window.location.hostname}})}setTimeout(function(){c=!0},1E3)}}var c=!0;K(document,"mousedown",b);K(document,"mouseup",b);K(document,"click",b)};a.track_links=function(b){function c(){function k(b){var c;c=b?"undefined"!==typeof b.target?b.target:b.srcElement:window.event.srcElement;q(b);a.add_event({key:"linkClick",
segmentation:{href:c.href,text:c.innerText,id:c.id,x:b.pageX,y:b.pageY}});"undefined"!==typeof c.href&&("_blank"!==c.target&&!b.metaKey&&!b.altKey&&!b.ctrlKey&&!b.shiftKey)&&0!==c.href.replace(window.location.href.split("#")[0],"").indexOf("#")&&(a.end_session(),W(b),setTimeout(function(){window.location.href=c.href},1E3))}if("undefined"!==typeof b.getElementsByTagName)for(var e=b.getElementsByTagName("a"),d=0;d<e.length;d++)K(e[d],"click",k);else g("Can't track clicks")}b=b||document;"complete"===
document.readyState?c():K(window,"load",c)};a.track_forms=function(b){function c(a){return a.name||a.id||a.type||a.nodeName}function k(b){var e=!1;K(b,"submit",function(k){if(!e){e=!0;var d={id:b.id,name:b.name,action:b.action,method:b.method},s;if("undefined"!==typeof b.elements)for(var h=0;h<b.elements.length;h++)if(s=b.elements[h],"select"==s.nodeName.toLowerCase())if("undefined"!==typeof s.multiple){var g=[];if("undefined"!==typeof s.options)for(var J=0;J<s.options.length;J++)s.options[J].selected&&
g.push(s.options[J].value);d["input:"+c(s)]=g.join()}else d["input:"+c(s)]=s.options[s.selectedIndex].value;else"input"==s.nodeName.toLowerCase()?"undefined"!==typeof s.type?"checkbox"==s.type.toLowerCase()||"radio"==s.type.toLowerCase()?"undefined"!==typeof s.checked&&(d["input:"+c(s)]=s.value):d["input:"+c(s)]=s.value:d["input:"+c(s)]=s.value:"textarea"==s.nodeName.toLowerCase()?d["input:"+c(s)]=s.value:"undefined"!==typeof s.value&&(d["input:"+c(s)]=s.value);a.add_event({key:"formSubmit",segmentation:d});
a.end_session();W(k);setTimeout(function(){b.submit()},1E3)}})}function e(){if("undefined"!==typeof b.getElementsByTagName)for(var a=b.getElementsByTagName("form"),c=0;c<a.length;c++)k(a[c]);else g("Can't track forms")}b=b||document;"complete"===document.readyState?e():K(window,"load",e)};var K=function(a,b,c){"undefined"!==typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},W=function(a){"undefined"!==typeof window.event?window.event.returnValue=!1:"undefined"!==typeof a.preventDefault?
a.preventDefault():a.returnValue=!1},G=function(a,b,c){function k(a,b,c){var d=new Date;d.setTime(d.getTime()+864E5*c);c="; expires\x3d"+d.toGMTString();document.cookie=a+"\x3d"+b+c+"; path\x3d/"}function e(a){a+="\x3d";for(var b=document.cookie.split(";"),c=0,k=b.length;c<k;c++){for(var d=b[c];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,d.length)}return null}c=c||!1;var d=!1,s;if("undefined"!==typeof localStorage){d=!0;try{localStorage.setItem("testLocal",
!0)}catch(h){d=!1}}"undefined"!==typeof b&&null!==b&&("object"===typeof b&&(b=JSON.stringify(b)),d?localStorage.setItem(a,b):c||k(a,b,30));if("undefined"===typeof b){d?s=localStorage.getItem(a):c||(s=e(a));try{s=JSON.parse(s)}catch(g){}return s}null===b&&(d?localStorage.removeItem(a):c||k(a,"",-1))}})(window.Countly=window.Countly||{});if("undefined"!==typeof goog)var Apiomat={Status:{}};"undefined"===typeof exports&&(Apiomat=Apiomat||{});
(function(a){a.Status={SCRIPT_ERROR:701,APPLICATION_NOT_ACTIVE:702,BAD_IMAGE:703,BAD_ID:704,CONCURRENT_ACCESS:705,APPLICATION_SANDBOX:706,MODEL_NOT_DEPLOYED:707,WRONG_REF_TYPE:709,ATTRIBUTE_NOT_SET:710,OPERATION_NOT_POSSIBLE:711,APPLICATION_NAME_MISMATCH:712,WRONG_AUTH_HEADER:713,MODEL_STILL_USED:714,COLLECTION_NOT_ALLOWED:715,FB_NO_VALID_MEMBER:716,FB_NO_OAUTH_TOKEN:717,FB_POST_ID_MISSING:718,RESTORE_NO_DUMPS_FOUND:719,TW_NO_VALID_MEMBER:720,TW_NO_OAUTH_TOKEN:721,IMEXPORT_WRONG_ENCODING:722,IMEXPORT_WRONG_CONTENT:723,
PUSH_PAYLOAD_EXCEEDED:724,PUSH_ERROR:725,BAD_EMAIL:726,BAD_PROMOTIONCODE_DISCOUNT:727,BAD_PROMOTIONCODE_CODE:728,PLAN_PRICE:729,PLAN_NO_SYSTEMS:730,SCRIPT_TIME_ERROR:731,INVALID_NAME:732,ATTRIBUTE_IN_SUPERCLASS:733,JSON_TYPE_ERROR:734,TBLR_NO_VALID_MEMBER:735,TBLR_NO_OAUTH_TOKEN:736,TBLR_POST_ID_MISSING:737,LOCATION_INVALID:738,SCRIPT_EXCEPTION:739,BAD_ACCOUNTNAME:740,BAD_IMAGE_ALPHA:746,BAD_IMAGE_BGCOLOR:747,BAD_IMAGE_FORMAT:748,QUERY_ERROR:708,BAD_TYPE_IN_QUERY:741,UNKNOWN_CLASS_IN_QUERY:742,WRONG_NUM_FORMAT_IN_QUERY:743,
QUERY_PARSE_ERROR:744,UNKNOWN_ATTRIBUTE_IN_QUERY:745,FOREIGNID_NOT_SET:749,CLASSES_MISSING:750,INVALID_ATTRIBUTE_TYPE:751,TOKEN_VALUE_EXISTS:752,JSON_FORMAT_ERROR:753,MODULE_DEPLOYMENT:754,BAD_USERNAME:755,CSV_ZIP_FORMAT:756,VERIFICATION:757,MODULE_STILL_USED:758,CLASS_NOT_IN_MODULE:759,ORDER_TRANSACTION_TIMESTAMP_OUTDATED:760,ORDER_TRANSACTION_ID_INVALID:761,ORDER_TRANSACTION_SECRET_INVALID:762,MANDATORY_FIELD:763,INVALID_PASSWD_LENGTH:764,BAD_PROMOTIONCODE_VALID:765,BAD_CLASS_NAME_SAME_AS_MODULE:766,
NO_ORG_MEMBER:767,MODULE_CLASS_NOT_CONTAINED:768,BAD_GROUP_NAME:769,INVISIBLE_CLASS:770,MODULE_TYPE_NOT_ALLOWED:771,APPLICATION_NOT_FOUND:801,CUSTOMER_NOT_FOUND:802,ID_NOT_FOUND:803,MODEL_NOT_FOUND:804,MODULE_NOT_FOUND:805,PLAN_NOT_FOUND:807,PROMOCODE_NOT_FOUND:808,DEMOAPP_NOT_FOUND:809,ORGANIZATION_NOT_FOUND:810,GROUP_NOT_FOUND:811,ACCOUNT_NOT_FOUND:812,DEFAULT_MODULE_NOT_FOUND:813,MODULE_USE_FORBIDDEN:820,PUSH_ERROR_APIKEY:821,PUSH_ERROR_CERTIFICATE:822,SAME_NAME_USED_IN_SUPERCLASS:823,PAYMENT_MAX_MODULE:824,
PAYMENT_SYSTEM:825,PAYMENT_DOWNGRADE:826,SAVE_REFERENECE_BEFORE_REFERENCING:827,PAYMENT_DB_SIZE:828,ENDPOINT_PATH_NOT_ALLOWED:829,PAYMENT_NO_CRON:1820,PAYMENT_MODULE_NOT_FREE:1821,NATIVEMODULE_DEACTIVATED:1822,LICENSE_INVALID:1823,PAYMENT_NO_CUSTOMERROLES:1824,WHITELABEL:1825,WHITELABEL_NOT:1826,MODULE_CONFIG_NO_DOT:1827,PLAN_FALLBACK:1828,PLAN_INACTIVE:1829,ENTERPRISE:1830,ACCOUNT_UNACCEPTED_CONTRACTS:1831,DELETE_MANDATORY_DEFAULT_MODULE:1832,ID_EXISTS:830,NAME_RESERVED:831,CIRCULAR_DEPENDENCY:832,
NAME_EXISTS:833,EMAIL_EXISTS:834,CUSTOMER_IN_ORG:835,UNAUTHORIZED:840,WRONG_APIKEY:841,EVALANCHE_UNAUTH:842,PW_CHANGE_W_TOKEN:843,TOKEN_AUTH_ERROR:844,TOKEN_READ_ONLY:845,AUTHENTICATION_REJECTED:846,CRUD_ERROR:901,IMEXPORT_ERROR:902,COMPILE_ERROR:903,REFERENCE_ERROR:904,PUSH_PAYLOAD_ERROR:905,PUSH_SEND_ERROR:906,PUSH_INIT_FAILED:907,FACEBOOK_ERROR:908,FACEBOOK_OAUTH_ERROR:910,FACEBOOK_OAUTH_ERROR2:917,MEMBER_NOT_FOUND:911,WORDPRESS_FETCH_DATA_ERROR:912,TUMBLR_OAUTH_ERROR:913,TUMBLR_ERROR:914,EXECUTE_METHOD_ERROR_PRIMITIVE:915,
EXECUTE_METHOD_ERROR:916,OAUTH_TOKEN_REQUEST_ERROR:918,FINDING_RESOURCE_ERROR:919,NATIVEMODULE_DEPLOY:920,TOKEN_SEARCH_ERROR:921,MODULE_CONFIG_MISSING:922,NATIVEMODULE_INIT:923,NATIVEMODULE_PULL:924,NATIVEMODULE_PUSH:925,NO_DOGET_RETURN:926,CUSTOMER_TWO_ORGS:927,NATIVEMODULE_HOOKS_NOT_FOUND:928,ANALYTICS_ERROR:929,EMAIL_ERROR:930,HREF_NOT_FOUND:601,WRONG_URI_SYNTAX:602,WRONG_CLIENT_PROTOCOL:603,IO_EXCEPTION:604,UNSUPPORTED_ENCODING:605,INSTANTIATE_EXCEPTION:606,IN_PERSISTING_PROCESS:607,VERIFY_SOCIALMEDIA:608,
TOO_MANY_LOCALIDS:609,MAX_CACHE_SIZE_REACHED:610,CANT_WRITE_IN_CACHE:611,BAD_DATASTORE_CONFIG:612,NO_TOKEN_RECEIVED:613,NO_NETWORK:614,ID_NOT_FOUND_OFFLINE:615,ATTACHED_HREF_MISSING:616,REQUEST_TIMEOUT:617,ASYNC_WAIT_ERROR:618,IN_DELETING_PROCESS:619,SSO_REDIRECT:620,MANUAL_CONCURRENT_WRITE_FAILED:621,SAVE_FAILED:622,MALICIOUS_MEMBER:950,getReasonPhrase:function(c){var b=void 0;switch(c){case a.Status.SCRIPT_ERROR:b="Script error!";break;case a.Status.APPLICATION_NOT_ACTIVE:b="Application is deactivated!";
break;case a.Status.BAD_IMAGE:b="Image format seems to be corrupted!";break;case a.Status.BAD_ID:b="ID format is wrong!";break;case a.Status.CONCURRENT_ACCESS:b="Concurrent access forbidden!";break;case a.Status.APPLICATION_SANDBOX:b="Application is in sandbox mode!";break;case a.Status.MODEL_NOT_DEPLOYED:b="Class is not deployed!";break;case a.Status.WRONG_REF_TYPE:b="Wrong reference type!";break;case a.Status.ATTRIBUTE_NOT_SET:b="Attribute not set!";break;case a.Status.OPERATION_NOT_POSSIBLE:b=
"CRUD operation not possible on this class!";break;case a.Status.APPLICATION_NAME_MISMATCH:b="Application name does not match the one defined in the class!";break;case a.Status.WRONG_AUTH_HEADER:b="Wrong authentication header format, must be 'username:password'";break;case a.Status.MODEL_STILL_USED:b="Class is still used by other attributes, scripts or subclasses!'";break;case a.Status.COLLECTION_NOT_ALLOWED:b="Collection is not supported for this class type!";break;case a.Status.FB_NO_VALID_MEMBER:b=
"Request send from no valid member";break;case a.Status.FB_NO_OAUTH_TOKEN:b="Requesting member has no oAuth token, please authenticate! See http://doc.apiomat.com";break;case a.Status.FB_POST_ID_MISSING:b="Facebook post id has to be set!";break;case a.Status.RESTORE_NO_DUMPS_FOUND:b="No dumps for app on this date exist!";break;case a.Status.TW_NO_VALID_MEMBER:b="Request send from no valid member";break;case a.Status.TW_NO_OAUTH_TOKEN:b="Requesting member has no oAuth token, please authenticate! See http://doc.apiomat.com";
break;case a.Status.IMEXPORT_WRONG_ENCODING:b="Wrong Encoding";break;case a.Status.IMEXPORT_WRONG_CONTENT:b="Wrong Filecontent";break;case a.Status.PUSH_PAYLOAD_EXCEEDED:b="Payload size exceeded!";break;case a.Status.PUSH_ERROR:b="Error in push request!";break;case a.Status.BAD_EMAIL:b="eMail format is wrong!";break;case a.Status.BAD_PROMOTIONCODE_DISCOUNT:b="Discount value is wrong!";break;case a.Status.BAD_PROMOTIONCODE_CODE:b="Code is invalid";break;case a.Status.PLAN_PRICE:b="Plan price must be \x3e\x3d 0!";
break;case a.Status.PLAN_NO_SYSTEMS:b="Plan must have at least one system!";break;case a.Status.SCRIPT_TIME_ERROR:b="Script was interrupted, execution took too long.";break;case a.Status.INVALID_NAME:b="Name must start with a letter, followed only by letters or numbers.";break;case a.Status.ATTRIBUTE_IN_SUPERCLASS:b="Attribute is already defined in superclass.";break;case a.Status.JSON_TYPE_ERROR:b="The @type is not correctly defined in your JSON (must be: MODULENAME$CLASSNAME";break;case a.Status.TBLR_NO_VALID_MEMBER:b=
"Request send from no valid member";break;case a.Status.TBLR_NO_OAUTH_TOKEN:b="Requesting member has no oAuth token, please authenticate! See http://doc.apiomat.com";break;case a.Status.TBLR_POST_ID_MISSING:b="Tumblr post id has to be set!";break;case a.Status.LOCATION_INVALID:b="Location data is invalid (latitude or longitude missing)!";break;case a.Status.SCRIPT_EXCEPTION:b="Exception was raised in external code!";break;case a.Status.BAD_ACCOUNTNAME:b="Account name must contain only characters A-Z,a-z or 0-9!";
break;case a.Status.BAD_IMAGE_ALPHA:b="alpha is wrong (must be a double value between 0.0 and 1.0)";break;case a.Status.BAD_IMAGE_BGCOLOR:b="bgcolor is wrong (must be an RGB hex value without #, like 'FF0000' for red)";break;case a.Status.BAD_IMAGE_FORMAT:b="format is wrong (can only be png, gif, bmp or jpg/jpeg)";break;case a.Status.QUERY_ERROR:b="Query could not be parsed!";break;case a.Status.BAD_TYPE_IN_QUERY:b="The query contains a value with the wrong type";break;case a.Status.UNKNOWN_CLASS_IN_QUERY:b=
"The definition of the class couldn't be found";break;case a.Status.WRONG_NUM_FORMAT_IN_QUERY:b="A number was supplied in the wrong format";break;case a.Status.QUERY_PARSE_ERROR:b="The query couldn't be parsed";break;case a.Status.UNKNOWN_ATTRIBUTE_IN_QUERY:b="An attribute that was used in the query doesn't exist in the class";break;case a.Status.FOREIGNID_NOT_SET:b="Foreign ID must be set to a unique value for this class!";break;case a.Status.CLASSES_MISSING:b="Not all classes for this module are contained in the jar! This will lead to compile errors.";
break;case a.Status.INVALID_ATTRIBUTE_TYPE:b="Attributes type is invalid";break;case a.Status.TOKEN_VALUE_EXISTS:b="The token value already exists";break;case a.Status.JSON_FORMAT_ERROR:b="JSON could not be parsed";break;case a.Status.MODULE_DEPLOYMENT:b="Module is currently deploying. Please try again later.";break;case a.Status.BAD_USERNAME:b="User name must not contain a ':'.";break;case a.Status.CSV_ZIP_FORMAT:b="CSV import only accepts a single .zip file!";break;case a.Status.VERIFICATION:b=
"Verification error";break;case a.Status.MODULE_STILL_USED:b="Module is still used by other modules of this app!'";break;case a.Status.CLASS_NOT_IN_MODULE:b="Model name not found for this module!";break;case a.Status.ORDER_TRANSACTION_TIMESTAMP_OUTDATED:b="Transaction outdated!";break;case a.Status.ORDER_TRANSACTION_ID_INVALID:b="Transaction ID invalid!";break;case a.Status.ORDER_TRANSACTION_SECRET_INVALID:b="Transaction secret invalid!";break;case a.Status.MANDATORY_FIELD:b="Mandatory fields must not be empty or null!";
break;case a.Status.INVALID_PASSWD_LENGTH:b="Password must have a length of at least 6 characters!";break;case a.Status.BAD_PROMOTIONCODE_VALID:b="Valid from/to of Code is null";break;case a.Status.BAD_CLASS_NAME_SAME_AS_MODULE:b="Class name must not be the same as the module name!";break;case a.Status.NO_ORG_MEMBER:b="Customer is not a member of the organization";break;case a.Status.MODULE_CLASS_NOT_CONTAINED:b="Module main class is not contained in the uploaded file! Probably wrong module uploaded?";
break;case a.Status.BAD_GROUP_NAME:b="Account name must contain only characters A-Z,a-z or 0-9!";break;case a.Status.INVISIBLE_CLASS:b="Class is not visible to REST!";break;case a.Status.MODULE_TYPE_NOT_ALLOWED:b="The action is not allowed for this module type";break;case a.Status.APPLICATION_NOT_FOUND:b="Application was not found!";break;case a.Status.CUSTOMER_NOT_FOUND:b="Customer was not found!";break;case a.Status.ID_NOT_FOUND:b="ID was not found!";break;case a.Status.MODEL_NOT_FOUND:b="Class was not found!";
break;case a.Status.MODULE_NOT_FOUND:b="Module was not found!";break;case a.Status.PLAN_NOT_FOUND:b="Plan was not found!";break;case a.Status.PROMOCODE_NOT_FOUND:b="Promotion code not valid!";break;case a.Status.DEMOAPP_NOT_FOUND:b="This language has no demo content";break;case a.Status.ORGANIZATION_NOT_FOUND:b="Organization was not found!";break;case a.Status.GROUP_NOT_FOUND:b="Group was not found!";break;case a.Status.ACCOUNT_NOT_FOUND:b="Account was not found!";break;case a.Status.DEFAULT_MODULE_NOT_FOUND:b=
"Default module was not found for the given account";break;case a.Status.MODULE_USE_FORBIDDEN:b="Required module is not attached to app";break;case a.Status.PUSH_ERROR_APIKEY:b="No API Key defined for Push service!";break;case a.Status.PUSH_ERROR_CERTIFICATE:b="No certificate defined for Push service!";break;case a.Status.SAME_NAME_USED_IN_SUPERCLASS:b="Same name is already used in a superclass.";break;case a.Status.PAYMENT_MAX_MODULE:b="Maximum number of used modules exceeded for this plan.";break;
case a.Status.PAYMENT_SYSTEM:b="Selected system use is not allowed for this plan.";break;case a.Status.PAYMENT_DOWNGRADE:b="Up/Downgrading plans is only allowed for super admins.";break;case a.Status.SAVE_REFERENECE_BEFORE_REFERENCING:b="Object you are trying to reference is not on the server. Please save it first.";break;case a.Status.PAYMENT_DB_SIZE:b="Used database size exceeds plan";break;case a.Status.ENDPOINT_PATH_NOT_ALLOWED:b="Endpoint not allowed for app; please add path to your app's config.";
break;case a.Status.PAYMENT_NO_CRON:b="Cronjobs are not allowed for this plan.";break;case a.Status.PAYMENT_MODULE_NOT_FREE:b="This module is not available for free plan.";break;case a.Status.NATIVEMODULE_DEACTIVATED:b="Native Module feature is not activated for this installation.";break;case a.Status.LICENSE_INVALID:b="Your license does not allow this action.";break;case a.Status.PAYMENT_NO_CUSTOMERROLES:b="Customer role usage is not available for free plan.";break;case a.Status.WHITELABEL:b="Only available for whitelabel installations.";
break;case a.Status.WHITELABEL_NOT:b="Not available for whitelabel installations.";break;case a.Status.MODULE_CONFIG_NO_DOT:b="No dot allowed in module config key.";break;case a.Status.PLAN_FALLBACK:b="Application cannot be activated without valid plan.";break;case a.Status.PLAN_INACTIVE:b="Plan is not selectable!";break;case a.Status.ENTERPRISE:b="Only available for enterprise installations.";break;case a.Status.ACCOUNT_UNACCEPTED_CONTRACTS:b="Account has unaccepted Contracts";break;case a.Status.DELETE_MANDATORY_DEFAULT_MODULE:b=
"It is not allowed to remove this default module";break;case a.Status.ID_EXISTS:b="ID exists!";break;case a.Status.NAME_RESERVED:b="Name is reserved!";break;case a.Status.CIRCULAR_DEPENDENCY:b="You can't set circular inheritance!";break;case a.Status.NAME_EXISTS:b="Name is already used!";break;case a.Status.EMAIL_EXISTS:b="E-mail is already used!";break;case a.Status.CUSTOMER_IN_ORG:b="Customer is already member of an organization";break;case a.Status.UNAUTHORIZED:b="Authorization failed!";break;
case a.Status.WRONG_APIKEY:b="API Key was not correct!";break;case a.Status.EVALANCHE_UNAUTH:b="Authorization failed! Maybe username/password was not set for evelanche configuration?";break;case a.Status.PW_CHANGE_W_TOKEN:b="Not authorized to change a user's password when authenticating with a token.";break;case a.Status.TOKEN_AUTH_ERROR:b="The token could not be authenticated";break;case a.Status.TOKEN_READ_ONLY:b="The token can only be used for read requests.";break;case a.Status.AUTHENTICATION_REJECTED:b=
"Authentication with username/password was rejected by third-party-system.";break;case a.Status.CRUD_ERROR:b="Internal error during CRUD operation";break;case a.Status.IMEXPORT_ERROR:b="Error during im/export!";break;case a.Status.COMPILE_ERROR:b="Classes could not be compiled!";break;case a.Status.REFERENCE_ERROR:b="Error in class reference!";break;case a.Status.PUSH_PAYLOAD_ERROR:b="Failed to create payload!";break;case a.Status.PUSH_SEND_ERROR:b="Failed to send message(s)!";break;case a.Status.PUSH_INIT_FAILED:b=
"Failed to initialize push service!";break;case a.Status.FACEBOOK_ERROR:b="An error occured while communicating with facebook!";break;case a.Status.FACEBOOK_OAUTH_ERROR:b="facebook throws oAuth error! Please show login dialog again";break;case a.Status.FACEBOOK_OAUTH_ERROR2:b="Received OAuth2 error from Facebook";break;case a.Status.MEMBER_NOT_FOUND:b="Can't find member with this id/username";break;case a.Status.WORDPRESS_FETCH_DATA_ERROR:b="Can't fetch data for wordpress blog";break;case a.Status.TUMBLR_OAUTH_ERROR:b=
"tumblr threw oAuth error! Please show login dialog again";break;case a.Status.TUMBLR_ERROR:b="Error communicating with tumblr!";break;case a.Status.EXECUTE_METHOD_ERROR_PRIMITIVE:b="Only primitive types are allowed";break;case a.Status.EXECUTE_METHOD_ERROR:b="Execute method failed";break;case a.Status.OAUTH_TOKEN_REQUEST_ERROR:b="An error occured during requesting an ApiOmat OAuth2 token";break;case a.Status.FINDING_RESOURCE_ERROR:b="An error occured while trying to find the resource";break;case a.Status.NATIVEMODULE_DEPLOY:b=
"Executing onDeploy failed";break;case a.Status.TOKEN_SEARCH_ERROR:b="An error occured while searching for tokens";break;case a.Status.MODULE_CONFIG_MISSING:b="Your module seems not to be configured properly";break;case a.Status.NATIVEMODULE_INIT:b="Could not initialize git repository";break;case a.Status.NATIVEMODULE_PULL:b="Could not pull git repository";break;case a.Status.NATIVEMODULE_PUSH:b="Could not push git repository";break;case a.Status.NO_DOGET_RETURN:b="The module's doGet didn't return a model";
break;case a.Status.CUSTOMER_TWO_ORGS:b="The customer was found in two organizations";break;case a.Status.NATIVEMODULE_HOOKS_NOT_FOUND:b="Annotated hook class not found";break;case a.Status.ANALYTICS_ERROR:b="The analytics instance couldn't process the request correctly";break;case a.Status.EMAIL_ERROR:b="Error during sending email";break;case a.Status.HREF_NOT_FOUND:b="Class has no HREF; please save it first!";break;case a.Status.WRONG_URI_SYNTAX:b="URI syntax is wrong";break;case a.Status.WRONG_CLIENT_PROTOCOL:b=
"Client protocol is wrong";break;case a.Status.IO_EXCEPTION:b="IOException was thrown";break;case a.Status.UNSUPPORTED_ENCODING:b="Encoding is not supported";break;case a.Status.INSTANTIATE_EXCEPTION:b="Error on class instantiation";break;case a.Status.IN_PERSISTING_PROCESS:b="Object is in persisting process. Please try again later";break;case a.Status.VERIFY_SOCIALMEDIA:b="Can't verify against social media provider";break;case a.Status.TOO_MANY_LOCALIDS:b="Can't create more localIDs. Please try again later";
break;case a.Status.MAX_CACHE_SIZE_REACHED:b="The maximum cache size is reached.";break;case a.Status.CANT_WRITE_IN_CACHE:b="Can't persist data to cache.";break;case a.Status.BAD_DATASTORE_CONFIG:b="For requesting a session token without a refresh token, the Datastore must be configured with a username and password";break;case a.Status.NO_TOKEN_RECEIVED:b="The response didn't contain a token";break;case a.Status.NO_NETWORK:b="No network connection available";break;case a.Status.ID_NOT_FOUND_OFFLINE:b=
"ID was not found in offline storage";break;case a.Status.ATTACHED_HREF_MISSING:b="HREF of attached image / file / reference is missing";break;case a.Status.REQUEST_TIMEOUT:b="The request timed out during connecting or reading the response";break;case a.Status.ASYNC_WAIT_ERROR:b="An error occured during waiting for an async task to finish";break;case a.Status.IN_DELETING_PROCESS:b="Object is in deleting process. Please try again later";break;case a.Status.SSO_REDIRECT:b="The request was redirected to an SSO Identity Provider";
break;case a.Status.MANUAL_CONCURRENT_WRITE_FAILED:b="Concurrent write to own concurrent data type failed";break;case a.Status.SAVE_FAILED:b="Load not executed because save already failed";break;case a.Status.MALICIOUS_MEMBER:b="Malicious use of member detected!";break;default:b="No reason found"}return b},getStatusForCode:function(c){var b=void 0;switch(c){case 701:b=a.Status.SCRIPT_ERROR;break;case 702:b=a.Status.APPLICATION_NOT_ACTIVE;break;case 703:b=a.Status.BAD_IMAGE;break;case 704:b=a.Status.BAD_ID;
break;case 705:b=a.Status.CONCURRENT_ACCESS;break;case 706:b=a.Status.APPLICATION_SANDBOX;break;case 707:b=a.Status.MODEL_NOT_DEPLOYED;break;case 709:b=a.Status.WRONG_REF_TYPE;break;case 710:b=a.Status.ATTRIBUTE_NOT_SET;break;case 711:b=a.Status.OPERATION_NOT_POSSIBLE;break;case 712:b=a.Status.APPLICATION_NAME_MISMATCH;break;case 713:b=a.Status.WRONG_AUTH_HEADER;break;case 714:b=a.Status.MODEL_STILL_USED;break;case 715:b=a.Status.COLLECTION_NOT_ALLOWED;break;case 716:b=a.Status.FB_NO_VALID_MEMBER;
break;case 717:b=a.Status.FB_NO_OAUTH_TOKEN;break;case 718:b=a.Status.FB_POST_ID_MISSING;break;case 719:b=a.Status.RESTORE_NO_DUMPS_FOUND;break;case 720:b=a.Status.TW_NO_VALID_MEMBER;break;case 721:b=a.Status.TW_NO_OAUTH_TOKEN;break;case 722:b=a.Status.IMEXPORT_WRONG_ENCODING;break;case 723:b=a.Status.IMEXPORT_WRONG_CONTENT;break;case 724:b=a.Status.PUSH_PAYLOAD_EXCEEDED;break;case 725:b=a.Status.PUSH_ERROR;break;case 726:b=a.Status.BAD_EMAIL;break;case 727:b=a.Status.BAD_PROMOTIONCODE_DISCOUNT;break;
case 728:b=a.Status.BAD_PROMOTIONCODE_CODE;break;case 729:b=a.Status.PLAN_PRICE;break;case 730:b=a.Status.PLAN_NO_SYSTEMS;break;case 731:b=a.Status.SCRIPT_TIME_ERROR;break;case 732:b=a.Status.INVALID_NAME;break;case 733:b=a.Status.ATTRIBUTE_IN_SUPERCLASS;break;case 734:b=a.Status.JSON_TYPE_ERROR;break;case 735:b=a.Status.TBLR_NO_VALID_MEMBER;break;case 736:b=a.Status.TBLR_NO_OAUTH_TOKEN;break;case 737:b=a.Status.TBLR_POST_ID_MISSING;break;case 738:b=a.Status.LOCATION_INVALID;break;case 739:b=a.Status.SCRIPT_EXCEPTION;
break;case 740:b=a.Status.BAD_ACCOUNTNAME;break;case 746:b=a.Status.BAD_IMAGE_ALPHA;break;case 747:b=a.Status.BAD_IMAGE_BGCOLOR;break;case 748:b=a.Status.BAD_IMAGE_FORMAT;break;case 708:b=a.Status.QUERY_ERROR;break;case 741:b=a.Status.BAD_TYPE_IN_QUERY;break;case 742:b=a.Status.UNKNOWN_CLASS_IN_QUERY;break;case 743:b=a.Status.WRONG_NUM_FORMAT_IN_QUERY;break;case 744:b=a.Status.QUERY_PARSE_ERROR;break;case 745:b=a.Status.UNKNOWN_ATTRIBUTE_IN_QUERY;break;case 749:b=a.Status.FOREIGNID_NOT_SET;break;
case 750:b=a.Status.CLASSES_MISSING;break;case 751:b=a.Status.INVALID_ATTRIBUTE_TYPE;break;case 752:b=a.Status.TOKEN_VALUE_EXISTS;break;case 753:b=a.Status.JSON_FORMAT_ERROR;break;case 754:b=a.Status.MODULE_DEPLOYMENT;break;case 755:b=a.Status.BAD_USERNAME;break;case 756:b=a.Status.CSV_ZIP_FORMAT;break;case 757:b=a.Status.VERIFICATION;break;case 758:b=a.Status.MODULE_STILL_USED;break;case 759:b=a.Status.CLASS_NOT_IN_MODULE;break;case 760:b=a.Status.ORDER_TRANSACTION_TIMESTAMP_OUTDATED;break;case 761:b=
a.Status.ORDER_TRANSACTION_ID_INVALID;break;case 762:b=a.Status.ORDER_TRANSACTION_SECRET_INVALID;break;case 763:b=a.Status.MANDATORY_FIELD;break;case 764:b=a.Status.INVALID_PASSWD_LENGTH;break;case 765:b=a.Status.BAD_PROMOTIONCODE_VALID;break;case 766:b=a.Status.BAD_CLASS_NAME_SAME_AS_MODULE;break;case 767:b=a.Status.NO_ORG_MEMBER;break;case 768:b=a.Status.MODULE_CLASS_NOT_CONTAINED;break;case 769:b=a.Status.BAD_GROUP_NAME;break;case 770:b=a.Status.INVISIBLE_CLASS;break;case 771:b=a.Status.MODULE_TYPE_NOT_ALLOWED;
break;case 801:b=a.Status.APPLICATION_NOT_FOUND;break;case 802:b=a.Status.CUSTOMER_NOT_FOUND;break;case 803:b=a.Status.ID_NOT_FOUND;break;case 804:b=a.Status.MODEL_NOT_FOUND;break;case 805:b=a.Status.MODULE_NOT_FOUND;break;case 807:b=a.Status.PLAN_NOT_FOUND;break;case 808:b=a.Status.PROMOCODE_NOT_FOUND;break;case 809:b=a.Status.DEMOAPP_NOT_FOUND;break;case 810:b=a.Status.ORGANIZATION_NOT_FOUND;break;case 811:b=a.Status.GROUP_NOT_FOUND;break;case 812:b=a.Status.ACCOUNT_NOT_FOUND;break;case 813:b=a.Status.DEFAULT_MODULE_NOT_FOUND;
break;case 820:b=a.Status.MODULE_USE_FORBIDDEN;break;case 821:b=a.Status.PUSH_ERROR_APIKEY;break;case 822:b=a.Status.PUSH_ERROR_CERTIFICATE;break;case 823:b=a.Status.SAME_NAME_USED_IN_SUPERCLASS;break;case 824:b=a.Status.PAYMENT_MAX_MODULE;break;case 825:b=a.Status.PAYMENT_SYSTEM;break;case 826:b=a.Status.PAYMENT_DOWNGRADE;break;case 827:b=a.Status.SAVE_REFERENECE_BEFORE_REFERENCING;break;case 828:b=a.Status.PAYMENT_DB_SIZE;break;case 829:b=a.Status.ENDPOINT_PATH_NOT_ALLOWED;break;case 1820:b=a.Status.PAYMENT_NO_CRON;
break;case 1821:b=a.Status.PAYMENT_MODULE_NOT_FREE;break;case 1822:b=a.Status.NATIVEMODULE_DEACTIVATED;break;case 1823:b=a.Status.LICENSE_INVALID;break;case 1824:b=a.Status.PAYMENT_NO_CUSTOMERROLES;break;case 1825:b=a.Status.WHITELABEL;break;case 1826:b=a.Status.WHITELABEL_NOT;break;case 1827:b=a.Status.MODULE_CONFIG_NO_DOT;break;case 1828:b=a.Status.PLAN_FALLBACK;break;case 1829:b=a.Status.PLAN_INACTIVE;break;case 1830:b=a.Status.ENTERPRISE;break;case 1831:b=a.Status.ACCOUNT_UNACCEPTED_CONTRACTS;
break;case 1832:b=a.Status.DELETE_MANDATORY_DEFAULT_MODULE;break;case 830:b=a.Status.ID_EXISTS;break;case 831:b=a.Status.NAME_RESERVED;break;case 832:b=a.Status.CIRCULAR_DEPENDENCY;break;case 833:b=a.Status.NAME_EXISTS;break;case 834:b=a.Status.EMAIL_EXISTS;break;case 835:b=a.Status.CUSTOMER_IN_ORG;break;case 840:b=a.Status.UNAUTHORIZED;break;case 841:b=a.Status.WRONG_APIKEY;break;case 842:b=a.Status.EVALANCHE_UNAUTH;break;case 843:b=a.Status.PW_CHANGE_W_TOKEN;break;case 844:b=a.Status.TOKEN_AUTH_ERROR;
break;case 845:b=a.Status.TOKEN_READ_ONLY;break;case 846:b=a.Status.AUTHENTICATION_REJECTED;break;case 901:b=a.Status.CRUD_ERROR;break;case 902:b=a.Status.IMEXPORT_ERROR;break;case 903:b=a.Status.COMPILE_ERROR;break;case 904:b=a.Status.REFERENCE_ERROR;break;case 905:b=a.Status.PUSH_PAYLOAD_ERROR;break;case 906:b=a.Status.PUSH_SEND_ERROR;break;case 907:b=a.Status.PUSH_INIT_FAILED;break;case 908:b=a.Status.FACEBOOK_ERROR;break;case 910:b=a.Status.FACEBOOK_OAUTH_ERROR;break;case 917:b=a.Status.FACEBOOK_OAUTH_ERROR2;
break;case 911:b=a.Status.MEMBER_NOT_FOUND;break;case 912:b=a.Status.WORDPRESS_FETCH_DATA_ERROR;break;case 913:b=a.Status.TUMBLR_OAUTH_ERROR;break;case 914:b=a.Status.TUMBLR_ERROR;break;case 915:b=a.Status.EXECUTE_METHOD_ERROR_PRIMITIVE;break;case 916:b=a.Status.EXECUTE_METHOD_ERROR;break;case 918:b=a.Status.OAUTH_TOKEN_REQUEST_ERROR;break;case 919:b=a.Status.FINDING_RESOURCE_ERROR;break;case 920:b=a.Status.NATIVEMODULE_DEPLOY;break;case 921:b=a.Status.TOKEN_SEARCH_ERROR;break;case 922:b=a.Status.MODULE_CONFIG_MISSING;
break;case 923:b=a.Status.NATIVEMODULE_INIT;break;case 924:b=a.Status.NATIVEMODULE_PULL;break;case 925:b=a.Status.NATIVEMODULE_PUSH;break;case 926:b=a.Status.NO_DOGET_RETURN;break;case 927:b=a.Status.CUSTOMER_TWO_ORGS;break;case 928:b=a.Status.NATIVEMODULE_HOOKS_NOT_FOUND;break;case 929:b=a.Status.ANALYTICS_ERROR;break;case 930:b=a.Status.EMAIL_ERROR;break;case 601:b=a.Status.HREF_NOT_FOUND;break;case 602:b=a.Status.WRONG_URI_SYNTAX;break;case 603:b=a.Status.WRONG_CLIENT_PROTOCOL;break;case 604:b=
a.Status.IO_EXCEPTION;break;case 605:b=a.Status.UNSUPPORTED_ENCODING;break;case 606:b=a.Status.INSTANTIATE_EXCEPTION;break;case 607:b=a.Status.IN_PERSISTING_PROCESS;break;case 608:b=a.Status.VERIFY_SOCIALMEDIA;break;case 609:b=a.Status.TOO_MANY_LOCALIDS;break;case 610:b=a.Status.MAX_CACHE_SIZE_REACHED;break;case 611:b=a.Status.CANT_WRITE_IN_CACHE;break;case 612:b=a.Status.BAD_DATASTORE_CONFIG;break;case 613:b=a.Status.NO_TOKEN_RECEIVED;break;case 614:b=a.Status.NO_NETWORK;break;case 615:b=a.Status.ID_NOT_FOUND_OFFLINE;
break;case 616:b=a.Status.ATTACHED_HREF_MISSING;break;case 617:b=a.Status.REQUEST_TIMEOUT;break;case 618:b=a.Status.ASYNC_WAIT_ERROR;break;case 619:b=a.Status.IN_DELETING_PROCESS;break;case 620:b=a.Status.SSO_REDIRECT;break;case 621:b=a.Status.MANUAL_CONCURRENT_WRITE_FAILED;break;case 622:b=a.Status.SAVE_FAILED;break;case 950:b=a.Status.MALICIOUS_MEMBER}return b}}})("undefined"===typeof exports?Apiomat:exports);"undefined"!==typeof goog&&(Apiomat.ApiomatRequestError={});"undefined"===typeof exports&&(Apiomat=Apiomat||{});
(function(a){a.ApiomatRequestError=function(c,b,f){this.message=f||a.Status.getReasonPhrase(c);this.name="ApiomatRequestError";this.expectedCodes=b;this.statusCode=c;this.extraInformations={};this.getStatusObj=function(){return a.Status.getStatusForCode(this.statusCode)};this.setExtraInformations=function(a){this.extraInformations=a};this.getExtraInformations=function(){return this.extraInformations}};a.ApiomatRequestError.prototype=Error();a.ApiomatRequestError.prototype.constructor=a.ApiomatRequestError})("undefined"===
typeof exports?Apiomat:exports);"undefined"!==typeof goog&&(Apiomat.AOMFileHandler={});"undefined"===typeof exports&&(Apiomat=Apiomat||{});
(function(a){a.AOMFileHandler=function(){var a={},b=void 0;if("undefined"!==typeof window&&window.File&&window.FileReader&&window.FileList&&window.Blob){var f=function(a){console.log(a.target.error.code)},d=function(a){b=a},e=window.PERSISTENT;!e&&"undefined"!==typeof LocalFileSystem&&(e=LocalFileSystem.PERSISTENT);e&&"undefined"!==typeof window&&window.requestFileSystem&&window.requestFileSystem(e,0,d,f)}this.getAppDirectory=function(a,c){"undefined"!==typeof b?b.root.getDirectory("apiomatpersists",
{create:!0},function(b){a&&a(b)},function(a){console.error("Can't get directory handle!!");c&&c(a)}):a&&a(void 0)};this.getFileHandler=function(a,b,c,d){this.getAppDirectory(function(d){"undefined"!==typeof d?d.getFile(a,{},function(a){b&&b(a)},c):c()},c)};this.getSizeOfAppDir=function(a,c){if("undefined"!==typeof b){var d=this,e=function(a,b,g,f,n,m){g>=a.length?n(f):d.getFileHandler(b,function(b){b.file(function(b){f+=b.size;b=void 0;"undefined"!==typeof a[++g]&&(b=a[g].name);e(a,b,g,f,n,m)},m)},
function(b){b.code!==FileError.NOT_FOUND_ERR&&c?m(b):("undefined"!==typeof a[++g]&&(nextName=a[g].name),e(a,_nextName,g,f,n,m))})},f=function(b){void 0!==typeof b&&0<b.length?e(b,b[0].name,0,0,function(b){a&&a(b)},c):a&&a(0)};this.getAppDirectory(function(a){a.createReader().readEntries(f,c)},c)}else a&&a(0)};this.createFileName=function(a){return a+"_"+(new Date).getTime()};this.removeFile=function(d,e,f){"undefined"!==typeof b?this.getFileHandler(d,function(a){a.remove(function(){e&&e()},f)},function(a){a.code!==
FileError.NOT_FOUND_ERR&&f?f(a):e&&e()}):(delete a[d],e&&e())};this.readFile=function(d,e,f){"undefined"!==typeof b?this.getFileHandler(d,function(a){a.file(function(a){var b=new FileReader;b.onloadend=function(a){e&&e(a.target.result)};b.readAsText(a)})},function(a){a.code!==FileError.NOT_FOUND_ERR&&f?f(a):e&&e(void 0)}):e&&e(a[d])};this.writeFile=function(d,e,f,v){"undefined"!==typeof b?this.getFileHandler(d,function(a){a.createWriter(function(a){a.onwriteend=function(a){f&&f()};a.write(e)},v)},
v,{create:!0,exclusive:!1}):(a[d]=e,f&&f())}};a.AOMFileHandler.HREFMAP_FILENAME="hrefMap";a.AOMFileHandler.USEDLOCALIDS_FILENAME="usedLocalIDs";a.AOMFileHandler.TASKLIST_FILENAME="taskList";a.AOMFileHandler.prototype={}})("undefined"===typeof exports?Apiomat:exports);if("undefined"!==typeof goog)var XMLHttpRequest={};
if("undefined"===typeof Ti&&"undefined"!==typeof module&&module.exports){var Url=require("url")/*,spawn=require("child_process").spawn,fs=require("fs")*/;exports.XMLHttpRequest=function(){var a=this,c=require("http"),b=require("https"),f,d,e,g,l,t,v,C=!1,F={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},q=F,z="accept-charset accept-encoding access-control-request-headers access-control-request-method connection content-length content-transfer-encoding cookie cookie2 date expect host keep-alive origin referer te trailer transfer-encoding upgrade via".split(" "),H=
["TRACE","TRACK","CONNECT"],n=!1,m=!1,h={};this.UNSENT=0;this.OPENED=1;this.HEADERS_RECEIVED=2;this.LOADING=3;this.DONE=4;this.readyState=this.UNSENT;this.onreadystatechange=null;this.responseXML=this.responseText="";this.statusText=this.status=null;this.open=function(a,b,c,d,h){this.abort();m=!1;if(!(a&&-1===H.indexOf(a)))throw"SecurityError: Request method not allowed";e=a;g=b.toString();l="boolean"!==typeof c?!0:c;t=d||null;v=h||null;x(this.OPENED)};this.setDisableHeaderCheck=function(a){C=a};
this.setRequestHeader=function(a,b){if(this.readyState!=this.OPENED)throw"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN";if(C||a&&-1===z.indexOf(a.toLowerCase())){if(n)throw"INVALID_STATE_ERR: send flag is true";q[a]=b}else console.warn('Refused to set unsafe header "'+a+'"')};this.getResponseHeader=function(a){return"string"===typeof a&&this.readyState>this.OPENED&&d.headers[a.toLowerCase()]&&!m?d.headers[a.toLowerCase()]:null};this.getAllResponseHeaders=function(){if(this.readyState<
this.HEADERS_RECEIVED||m)return"";var a="",b;for(b in d.headers)"set-cookie"!==b&&"set-cookie2"!==b&&(a+=b+": "+d.headers[b]+"\r\n");return a.substr(0,a.length-2)};this.getRequestHeader=function(a){return"string"===typeof a&&q[a]?q[a]:""};this.send=function(h){if(this.readyState!=this.OPENED)throw"INVALID_STATE_ERR: connection must be opened before send() is called";if(n)throw"INVALID_STATE_ERR: send has already been called";var y=!1,A=!1,p=Url.parse(g),r;switch(p.protocol){case "https:":y=!0;case "http:":r=
p.hostname;break;case "file:":A=!0;break;case void 0:case "":r="localhost";break;default:throw"Protocol not supported.";}if(A){if("GET"!==e)throw"XMLHttpRequest: Only GET method is supported";if(l)fs.readFile(p.pathname,"utf8",function(b,c){b?a.handleError(b):(a.status=200,a.responseText=c,x(a.DONE))});else try{this.responseText=fs.readFileSync(p.pathname,"utf8"),this.status=200,x(a.DONE)}catch(z){this.handleError(z)}}else{var A=p.port||(y?443:80),u=p.pathname+(p.search?p.search:"");q.Host=r;y&&443===
A||80===A||(q.Host+=":"+p.port);t&&("undefined"==typeof v&&(v=""),p=new Buffer(t+":"+v),q.Authorization="Basic "+p.toString("base64"));"GET"===e||"HEAD"===e?h=null:h?(q["Content-Length"]=Buffer.isBuffer(h)?h.length:Buffer.byteLength(h),q["Content-Type"]||(q["Content-Type"]="text/plain;charset\x3dUTF-8")):"POST"===e&&(q["Content-Length"]=0);u={host:r,port:A,path:u,method:e,headers:q,agent:!1};m=!1;if(l){var F=y?b.request:c.request;n=!0;a.dispatchEvent("readystatechange");var N=function(b){d=b;302===
d.statusCode||303===d.statusCode||307===d.statusCode?(g=d.headers.location,b=Url.parse(g),r=b.hostname,f=F({hostname:b.hostname,port:b.port,path:b.path,method:303===d.statusCode?"GET":e,headers:q},N).on("error",C),f.end()):(d.setEncoding("utf8"),x(a.HEADERS_RECEIVED),a.status=d.statusCode,d.on("data",function(b){b&&(a.responseText+=b);n&&x(a.LOADING)}),d.on("end",function(){n&&(x(a.DONE),n=!1)}),d.on("error",function(b){a.handleError(b)}))},C=function(b){a.handleError(b)};f=F(u,N).on("error",C);h&&
f.write(h);f.end();a.dispatchEvent("loadstart")}else{p=".node-xmlhttprequest-content-"+process.pid;A=".node-xmlhttprequest-sync-"+process.pid;fs.writeFileSync(A,"","utf8");h="var http \x3d require('http'), https \x3d require('https'), fs \x3d require('fs');var doRequest \x3d http"+(y?"s":"")+".request;var options \x3d "+JSON.stringify(u)+";var responseText \x3d '';var req \x3d doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText +\x3d chunk;});response.on('end', function() {fs.writeFileSync('"+
p+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+A+"');});response.on('error', function(error) {fs.writeFileSync('"+p+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+A+"');});}).on('error', function(error) {fs.writeFileSync('"+p+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+A+"');});"+(h?"req.write('"+h.replace(/'/g,"\\'")+"');":"")+"req.end();";for(h=spawn(process.argv[0],
["-e",h]);fs.existsSync(A););a.responseText=fs.readFileSync(p,"utf8");h.stdin.end();fs.unlinkSync(p);a.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)?(h=a.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,""),a.handleError(h)):(a.status=parseInt(a.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),10),a.responseText=a.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),x(a.DONE))}}};this.handleError=function(a){this.status=503;this.statusText=a;this.responseText=
a.stack;m=!0;x(this.DONE)};this.abort=function(){f&&(f.abort(),f=null);q=F;this.responseXML=this.responseText="";m=!0;if(this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||n)&&this.readyState!==this.DONE)n=!1,x(this.DONE);this.readyState=this.UNSENT};this.addEventListener=function(a,b){a in h||(h[a]=[]);h[a].push(b)};this.removeEventListener=function(a,b){a in h&&(h[a]=h[a].filter(function(a){return a!==b}))};this.dispatchEvent=function(b){if("function"===typeof a["on"+b])a["on"+b]();
if(b in h)for(var c=0,d=h[b].length;c<d;c++)h[b][c].call(a)};var x=function(b){a.readyState!==b&&(a.readyState=b,(l||a.readyState<a.OPENED||a.readyState===a.DONE)&&a.dispatchEvent("readystatechange"),a.readyState===a.DONE&&!m&&(a.dispatchEvent("load"),a.dispatchEvent("loadend")))}}};"undefined"!==typeof goog&&(Apiomat.AOMHelper={});"undefined"===typeof exports&&(Apiomat=Apiomat||{});
(function(a){a.AOMHelper=function(){return{isTitaniumApp:function(){return"object"===typeof Ti||"object"===typeof Titanium},isSafari:function(){return"object"===typeof navigator&&0>=navigator.userAgent.indexOf("Chrom")&&-1<navigator.userAgent.indexOf("Safari")||!1},isNodeJS:function(){return!1===this.isTitaniumApp()&&"undefined"!==typeof module&&module.exports},sendEvent:function(a,b){var f=void 0;this.isTitaniumApp()?Ti.App.fireEvent(a,b||{}):("undefined"!==typeof CustomEvent&&!(9<=this.detectIE())?
f=new CustomEvent(a,b||{}):(f=document.createEvent("Event"),f.initEvent(a,!0,!0),f.customData=b||{}),window.dispatchEvent(f))},isInteger:function(a){return 0===a%1},addEventListener:function(c,b){a.AOMHelper.isTitaniumApp()?Ti.App.addEventListener(c,b):window.addEventListener(c,b)},detectIE:function(){if(!1==this.isTitaniumApp()&&"undefined"!=typeof navigator.userAgent&&null!=navigator.userAgent){var a=navigator.userAgent,b=a.indexOf("MSIE ");if(0<b)return parseInt(a.substring(b+5,a.indexOf(".",b)),
10);if(0<a.indexOf("Trident/"))return b=a.indexOf("rv:"),parseInt(a.substring(b+3,a.indexOf(".",b)),10);b=a.indexOf("Edge/");if(0<b)return parseInt(a.substring(b+5,a.indexOf(".",b)),10)}return!1}}}()})("undefined"===typeof exports?Apiomat:exports);Array.prototype.filter||(Array.prototype.filter=function(a,c){if(!this)throw new TypeError;var b=Object(this);if("function"!==typeof a)throw new TypeError;var f=[],d;for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d,b)&&f.push(b[d]);return f});
String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});
Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),b="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),f=b.length;return function(d){if("object"!==typeof d&&("function"!==typeof d||null===d))throw new TypeError("Object.keys called on non-object");var e=[],g;for(g in d)a.call(d,g)&&e.push(g);if(c)for(g=0;g<f;g++)a.call(d,b[g])&&e.push(b[g]);return e}}());"undefined"!==typeof goog&&(Apiomat.AOMNetworkHandler={});"undefined"===typeof exports&&(Apiomat=Apiomat||{});
(function(a){a.AOMNetworkHandler=function(){return{AOMNETWORKEVENT:"AomNetworkEvent",isChecking:!1,checkForConnection:function(){a.AOMNetworkHandler.isChecking=!0;!1===a.AOMNetworkHandler.isConnected()?setTimeout(a.AOMNetworkHandler.checkForConnection,150):(console.log("Connection is back..."),a.AOMNetworkHandler.isChecking=!1,a.AOMHelper.sendEvent(a.AOMNetworkHandler.AOMNETWORKEVENT,{isConnected:!0}))},isConnected:function(){var c=!0,c=a.AOMHelper.isTitaniumApp()?Titanium.Network.online:navigator.onLine;
!0===a.forceOffline&&(c=!a.forceOffline);!1===c&&!1===a.AOMNetworkHandler.isChecking&&a.AOMNetworkHandler.checkForConnection();return c}}}()})("undefined"===typeof exports?Apiomat:exports);"undefined"!==typeof goog&&(Apiomat.AOMFileHandlerTi={});"undefined"===typeof exports&&(Apiomat=Apiomat||{});
(function(a){a.AOMFileHandlerTi=function(){var a=function(){var a=Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,"apiomatpersists");!1===a.exists()&&a.createDirectory();return a};this.getAppDirectory=function(b,f){var d=a();"undefined"===typeof d&&f?f():b&&b(d.nativePath)};this.getSizeOfAppDir=function(b,f){var d=a();"undefined"===typeof d&&f?f():b&&b(d.size)}};a.AOMHelper.isTitaniumApp()&&(a.AOMFileHandlerTi.prototype=new a.AOMFileHandler,a.AOMFileHandlerTi.prototype.constructor=a.AOMFileHandlerTi,
a.AOMFileHandlerTi.prototype.removeFile=function(a,b,f){var d=!1;this.getAppDirectory(function(e){e=Ti.Filesystem.getFile(e,a);e.exists()&&e.writeable&&(d=e.deleteFile());d?b&&b():f&&f()},f)},a.AOMFileHandlerTi.prototype.readFile=function(a,b,f){this.getAppDirectory(function(d){var e=void 0;d=Ti.Filesystem.getFile(d,a);d.exists()&&(e=d.read());e&&"undefined"!==typeof e?b&&b(e.text):b&&b(void 0)},f)},a.AOMFileHandlerTi.prototype.writeFile=function(a,b,f,d){this.getAppDirectory(function(e){Ti.Filesystem.getFile(e,
a).write(b)?f&&f():d&&d()},d)})})("undefined"===typeof exports?Apiomat:exports);"undefined"!==typeof goog&&(Apiomat.MemoryStorage={});Array.prototype.contains=function(a){for(var c=this.length;c--;)if(this[c]===a)return!0;return!1};var _collectionStorage={},_objectStorage={},_useDeltaSync=!1;
(function(a){a.MemoryStorage=function(){function a(b){var c=[];for(i=0;i<b.length;i++)b[i]&&void 0!=b[i].id&&c.push(b[i].id);return c}function b(a){delete _objectStorage[a];for(var b in _collectionStorage)f(b,a)}function f(a,b){var c=_collectionStorage[a].indexOf(b);void 0!==c&&-1<c&&_collectionStorage[a].splice(c,1)}return{addOrUpdateCollection:function(b,e){if(e instanceof Array){if(_useDeltaSync)if(_collectionStorage.hasOwnProperty(b)){var f=_collectionStorage,l=_collectionStorage[b];for(i=0;i<
e.length;i++)void 0!=e[i].id&&!l.contains(e[i].id)&&l.push(e[i].id);f[b]=l}else _collectionStorage[b]=a(e);else _collectionStorage[b]=a(e);for(i=0;i<e.length;i++)this.addOrUpdateObject(e[i])}else this.addOrUpdateObject(e,b)},addOrUpdateObject:function(a,b){if(void 0!=a.id){if(_objectStorage.hasOwnProperty(a.id)&&_objectStorage[a.id].lastModifiedAt<=a.lastModifiedAt||!_objectStorage.hasOwnProperty(a.id))_objectStorage[a.id]=a}else-1<b.indexOf("images/")?_objectStorage[b.substring(b.lastIndexOf("images/")+
7,b.lastIndexOf(".img"))]=a:-1<b.indexOf("files/")&&(_objectStorage[b.substring(b.lastIndexOf("files/")+6,b.lastIndexOf(".img"))]=a)},getCollection:function(a){return _collectionStorage[a]},getCollectionObjects:function(a){collection=this.getCollection(a);if(!collection)return a=a.substring(a.lastIndexOf("/")+1,a.length),-1<a.indexOf(".img")&&(a=a.substring(0,a.lastIndexOf(".img"))),this.getObject(a);a=[];for(i=0;i<collection.length;i++)_objectStorage[collection[i]]&&a.push(_objectStorage[collection[i]]);
return a},getObject:function(a){return _objectStorage[a]},removeCollection:function(a){delete _collectionStorage[a]},removeObjectByHref:function(a){var c=a.substring(0,a.lastIndexOf("/"));a=a.substring(a.lastIndexOf("/")+1,a.length);var g=c.split("/"),l=!1;for(i=g.length-1;2<i;i--)if(null!=g[i].slice(0,1).match(/[0-9]/)){l=!0;break}c in _collectionStorage&&l?f(c,a):a in _objectStorage&&!l&&b(a)},removeObjectById:function(a){b(a)},removeObjectsOnDelta:function(a,b){if(_useDeltaSync&&a in _collectionStorage)for(i=
0;i<b.length;i++)f(a,b[i])},getCollectionStorage:function(){return _collectionStorage},setUseDeltaSync:function(a){_useDeltaSync=a},getObjectStorage:function(){return _objectStorage},clearStorage:function(){this.clearCollections();this.clearObjects()},clearCollections:function(){_collectionStorage={}},clearObjects:function(){_objectStorage={}}}}()})("undefined"===typeof exports?Apiomat:exports);"undefined"!==typeof goog&&(Apiomat.AOMOfflineStorage={});Apiomat.AOMHelper.isTitaniumApp()&&(localStorage=Ti.App.Properties,localStorage.setItem=function(a,c){localStorage.setString(a,c)},localStorage.getItem=function(a){return localStorage.getString(a)},localStorage.removeItem=function(a){localStorage.removeProperty(a)},localStorage.clear=function(){var a=localStorage.listProperties();for(i=0;i<a.length;i++)localStorage.removeProperty(a[i]);return!0},localStorage.keys=function(){return localStorage.listProperties()}());
(function(a){a.AOMOfflineStorage=function(){function c(a){var b=[];for(i=0;i<a.length;i++)a[i]&&void 0!=a[i].id&&b.push(a[i].id);return b}function b(a,b){var c=JSON.parse(localStorage.getItem(b));for(i=0;i<a.length;i++)if(void 0!=a[i].id){var d=!1;for(j=0;j<c.length;j++)if(c[j]===a[i].id){d=!0;break}d||c.push(a[i].id)}return null==c?void 0:c}function f(a,b){try{var c=JSON.parse(localStorage.getItem(a));if(c instanceof Array){var d=c.indexOf(b);void 0!==d&&-1<d&&(c.splice(d,1),localStorage.setItem(a,
JSON.stringify(c)))}}catch(f){}finally{}}function d(b){localStorage.removeItem(b);if(a.AOMHelper.isTitaniumApp()){var c=localStorage.listProperties(),d;for(d=0;d<c.length;d++)f(c[d],b);localStorage.listProperties()}else for(c in localStorage)f(c,b)}return{addOrUpdateCollection:function(a,d){if(d instanceof Array){_useDeltaSync?null===localStorage.getItem(a)?localStorage.setItem(a,JSON.stringify(c(d))):localStorage.setItem(a,JSON.stringify(b(d,a))):localStorage.setItem(a,JSON.stringify(c(d)));for(i=
0;i<d.length;i++)this.addOrUpdateObject(d[i])}else this.addOrUpdateObject(d,a)},addOrUpdateObject:function(a,b){void 0!=a.id?(null!==localStorage.getItem(a.id)&&JSON.parse(localStorage.getItem(a.id)).lastModifiedAt<=a.lastModifiedAt||null===localStorage.getItem(a.id))&&localStorage.setItem(a.id,JSON.stringify(a)):-1<b.indexOf("images/")?localStorage.setItem(b.substring(b.lastIndexOf("images/")+7,b.lastIndexOf(".img")),JSON.stringify(a)):-1<b.indexOf("files/")&&localStorage.setItem(b.substring(b.lastIndexOf("files/")+
6,b.lastIndexOf(".img")),JSON.stringify(a))},getCollection:function(a){a=JSON.parse(localStorage.getItem(a));return null==a?void 0:a},getCollectionObjects:function(a){var b=this.getCollection(a);if(!b)return b=a.substring(a.lastIndexOf("/")+1,a.length),-1<b.indexOf(".img")&&(b=b.substring(0,b.lastIndexOf(".img"))),b=this.getObject(b),null==b?void 0:b;a=[];for(i=0;i<b.length;i++)null!==localStorage.getItem(b[i])&&a.push(JSON.parse(localStorage.getItem(b[i])));return a},getObject:function(a){a=JSON.parse(localStorage.getItem(a));
return null==a?void 0:a},removeCollection:function(a){localStorage.removeItem(a)},removeObjectByHref:function(a){var b=a.substring(0,a.lastIndexOf("/"));a=a.substring(a.lastIndexOf("/")+1,a.length);var c=b.split("/"),t=!1;for(i=c.length-1;2<i;i--)if(null!=c[i].slice(0,1).match(/[0-9]/)){t=!0;break}null!==localStorage.getItem(b)&&t?f(b,a):null!==localStorage.getItem(a)&&!t&&d(a)},removeObjectById:function(a){d(a)},removeObjectsOnDelta:function(a,b){if(_useDeltaSync&&null!==localStorage.getItem(a))for(i=
0;i<b.length;i++)f(a,b[i])},setUseDeltaSync:function(a){_useDeltaSync=a},getCollectionStorage:function(){return localStorage},clearStorage:function(){localStorage.clear()}}}()})("undefined"===typeof exports?Apiomat:exports);if("undefined"!==typeof goog)var base64={};
(function(a){if(!a.Base64){var c=function(a){for(var b={},c=0,d=a.length;c<d;c++)b[a.charAt(c)]=c;return b}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),b=String.fromCharCode,f=function(a){if(2>a.length){var c=a.charCodeAt(0);return 128>c?a:2048>c?b(192|c>>>6)+b(128|c&63):b(224|c>>>12&15)+b(128|c>>>6&63)+b(128|c&63)}c=65536+1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320);return b(240|c>>>18&7)+b(128|c>>>12&63)+b(128|c>>>6&63)+b(128|c&63)},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,
e=function(a){return a.replace(d,f)},g=function(a){var b=[0,2,1][a.length%3];a=a.charCodeAt(0)<<16|(1<a.length?a.charCodeAt(1):0)<<8|(2<a.length?a.charCodeAt(2):0);return["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>18),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>12&63),2<=b?"\x3d":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6&63),1<=b?"\x3d":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a&
63)].join("")},l=a.btoa||function(a){return a.replace(/[\s\S]{1,3}/g,g)},t=function(a,b){return!b?l(e(a)):l(e(a)).replace(/[+\/]/g,function(a){return"+"==a?"-":"_"}).replace(/=/g,"")},v=/[\u00c0-\u00df][\u0080-\u00bf]|[\u00e0-\u00ef][\u0080-\u00bf]{2}|[\u00f0-\u00f7][\u0080-\u00bf]{3}/g,C=function(a){switch(a.length){case 4:return a=((7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3))-65536,b((a>>>10)+55296)+b((a&1023)+56320);case 3:return b((15&a.charCodeAt(0))<<
12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return b((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},F=function(a){return a.replace(v,C)},q=function(a){var d=a.length,e=d%4;a=(0<d?c[a.charAt(0)]<<18:0)|(1<d?c[a.charAt(1)]<<12:0)|(2<d?c[a.charAt(2)]<<6:0)|(3<d?c[a.charAt(3)]:0);a=[b(a>>>16),b(a>>>8&255),b(a&255)];a.length-=[0,0,2,1][e];return a.join("")},z=a.atob||function(a){return a.replace(/[\s\S]{1,4}/g,q)},H=function(a){return F(z(a))},n=function(a){return H(a.replace(/[-_]/g,function(a){return"-"==
a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};a.Base64={VERSION:"2.1.2",atob:z,btoa:l,fromBase64:n,toBase64:t,utob:e,encode:t,encodeURI:function(a){return t(a,!0)},btou:F,decode:n};if("function"===typeof Object.defineProperty){var m=function(a){return{value:a,enumerable:!1,writable:!0,configurable:!0}};a.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",m(function(){return n(this)}));Object.defineProperty(String.prototype,"toBase64",m(function(a){return t(this,a)}));
Object.defineProperty(String.prototype,"toBase64URI",m(function(){return t(this,!0)}))}}}})(this);"undefined"!==typeof goog&&(Apiomat.Datastore={});"undefined"===typeof exports&&(Apiomat=Apiomat||{});function headerHook(a){return a}function responseHook(a){return a}function processOfflineHook(a){return a}
(function(a){a.AOMOfflineStrategy={NO_OFFLINE_HANDLING:0,USE_OFFLINE_CACHE:1};a.AOMCacheStrategy={NETWORK_ONLY:0,NETWORK_ELSE_CACHE:1,CACHE_ELSE_NETWORK:2,CACHE_THEN_NETWORK:3};a.AOMAuthType={GUEST:0,USERNAME_PASSWORD:1,OAUTH2_TOKEN:2};a.SSO_REDIRECT_URL="AOM_SSO_REDIRECT_URL";a.SSO_REDIRECT_DATA="AOM_SSO_REDIRECT_DATA";a.HEADER={ETAG:"Etag",LAST_MODIFIED:"Last-Modified",MODIFIED_SINCE:"If-Modified-Since",EXPIRES:"Expires",CACHE_CONTROL:"Cache-Control"};a.Datastore=function(){function c(b,c,d,e,f,
g,G){h=b;x=c;w=d;y=e;m=f;n=g;u=G;E="undefined"!==typeof u?a.AOMAuthType.OAUTH2_TOKEN:"undefined"!==typeof m&&"undefined"!==typeof n?a.AOMAuthType.USERNAME_PASSWORD:a.AOMAuthType.GUEST;P=!0}function b(){return{getUsername:function(){return m},getPassword:function(){return n},getAuthType:function(){return E},setUseAsyncRequests:function(a){A=a},setUseDeltaSync:function(a){O=a},getUseDeltaSync:function(){return O},setOfflineUsageForClass:function(a,b){V[a]=b},getOfflineUsageForClass:function(a){return(a=
V[a])?!1:a},loadFromServer:function(b,c,d,f,h,m,g,x){var p=d&&b===d.getHref();e("GET",b,[200,304],!d?c:{onOk:function(b,k){b&&k&&304!==k.status?d.fromJson(b):k&&304===k.status||d.fromJson(b);a.Datastore.positiveCallback(c,k&&304==k.status?d:void 0,k)},onError:function(b,k){a.Datastore.negativeCallback(c,b,k)},onSecondOk:function(b,k){d.fromJson(b);a.Datastore.secondPositiveCallback(c,k)}},m,{isReload:p,data:h,withReferencedHrefs:f},g,x)},getOrCreateUser:function(b,c,d){var f=a.User.AOMBASEURL.substring(a.User.AOMBASEURL.lastIndexOf("/")+
1);b=h.substring(0,h.indexOf("yambas/rest")+11)+"/modules/facebook/spec/"+f+"/aomuser?facebookToken\x3d"+b;e("GET",b,[200],c,void 0,void 0,d)},loginFacebook:function(b,c,d){a.Datastore.getInstance().getOrCreateUser(b,c,d)},setCheckObjectState:function(a){P=a},getCheckObjectState:function(){return P},loadResource:function(a,b,c){e("GET",a,[200,206],b,void 0,{isByteData:!0},c)},loadListFromServerWithClass:function(a,b,c,d,f){e("GET",C(a),[200,304],c,a,{data:b,withReferencedHrefs:d},!0,f)},postOnServer:function(a,
b,c,d){c||(c=v(a));e("POST",c,[200,201],b,void 0,{data:a.toJson()},void 0,d)},updateOnServer:function(a,b,c){var d=a.getHref();a=a.toJson();e("PUT",d,[200,204],b,void 0,{data:a},void 0,c)},updateOnServerWithJSON:function(a,b,c,d){e("PUT",a,[200,204],c,void 0,{data:b},void 0,d)},deleteOnServer:function(a,b,c){f(a,void 0,b,c)},deleteModelOnServer:function(a,b,c){f(void 0,a,b,c)},postStaticDataOnServer:function(a,b,c,d){b=F(b);this.postStaticDataOnServerWithHref(a,b,c,d)},postStaticDataOnServerWithHref:function(a,
b,c,d){e("POST",b,[201],c,void 0,{isByteData:!0,data:a},d)},shouldSendOffline:function(b){return B!==a.AOMCacheStrategy.NETWORK_ONLY&&void 0!=this.getOfflineHandler()&&!1===this.getOfflineHandler().isConnected()},getOfflineHandler:function(){return r},getOfflineStrategy:function(){return p},syncCollection:function(a,b,c){var d=[],e=[],f=!1,h,m;if(c)for(h=0;h<a.length;h++){f=!1;for(m=0;m<c.length;m++)a[h].getID()==c[m]&&(f=!0);f||d.push(a[h])}else d=a;for(a=0;a<b.length;a++){f=!1;for(c=0;c<d.length;c++)d[c].getID()===
b[a].getID()&&(d[c]=b[a],f=!0);f||e.push(b[a])}return d.concat(e)},sendOffline:function(b,c,d,e,f){!c&&d instanceof a.AbstractClientDataModel?c=v(d):c||(c=F(e));this.getOfflineHandler().addTask(b,c,d,e,function(c){"POST"===b&&c?a.Datastore.positiveCallback(f,c):a.Datastore.positiveCallback(f)},function(c){"undefined"!==typeof f?("POST"===b&&(c=new a.ApiomatRequestError(a.Status.CRUD_ERROR,201,"Can't save offline")),a.Datastore.negativeCallback(f,c)):"undefined"!==typeof console&&console.error&&console.error("Can't send request to offline queue: "+
c)})},requestSessionToken:function(b,c,e,f){if(E!==a.AOMAuthType.USERNAME_PASSWORD)c=new a.ApiomatRequestError(a.Status.BAD_DATASTORE_CONFIG),"undefined"!==typeof b?a.Datastore.negativeCallback(b,c):"undefined"!==typeof console&&console.error&&console.error("Error occured: "+c);else{var g=h.substring(h.lastIndexOf("/")+1),g={grant_type:"aom_user",client_id:g,client_secret:x,scope:"read write",username:m,password:n,app:g,system:w};"undefined"!==typeof e&&"default"!==e&&(g.access_expiration=e);"undefined"!==
typeof f&&"default"!==f&&(g.refresh_expiration=f);d(g,b,c)}},requestSessionTokenWithRefreshToken:function(a,b,c,e,f){a={grant_type:"refresh_token",client_id:h.substring(h.lastIndexOf("/")+1),client_secret:x,refresh_token:a};"undefined"!==typeof e&&"default"!==e&&(a.access_expiration=e);"undefined"!==typeof f&&"default"!==f&&(a.refresh_expiration=f);d(a,b,c)},loadCountFromServer:function(b,c,d,f,h){var m=void 0,m="string"===typeof b&&"undefined"!==typeof c?b+"/"+c:C(b);e("GET",m+"/count",[200],{onOk:function(b){a.Datastore.positiveCallback(f,
Number(b))},onError:function(b){typeof f&&a.Datastore.negativeCallback(f,b)}},void 0,{data:d,returnpost:!0},h)},setIdPHosts:function(a){N=a},getIdPHosts:function(){return N},deleteCollectionFromStorage:function(b,c,d,e){var f=!1;try{var m=c.prototype.getModuleName(),g=c.prototype.getSimpleName();c=h+"/models/"+m+"/"+g;b&&(c+="?withReferencedHrefs\x3d"+b);d&&(c=b?c+"\x26":c+"?",c+="q\x3d"+d);collectionHref=c;headerHook(collectionHref);a.MemoryStorage.removeCollection(collectionHref);a.AOMOfflineStorage.removeCollection(collectionHref);
a.Datastore.positiveCallback(e)}catch(x){L?Ti.API.log("Error occured: "+x):f=!0}finally{f&&(b=new a.ApiomatRequestError(a.status.MODEL_NOT_FOUND),"undefined"!==typeof e?a.Datastore.negativeCallback(e,b):"undefined"!==typeof console&&console.error&&console.error("Error occured: "+b))}},deleteObjectFromStorage:function(a,b){z(b).removeObjectById(a)},removeCollectionFromStorage:function(a,b){z(b).removeObjectByHref(a)},createHrefFromClass:function(a){return C(a)}}}function f(b,c,d,f){b?e("DELETE",b,
[204],d,void 0,void 0,f):c&&c.getHref()?e("DELETE",c.getHref(),[204],d,void 0,void 0,f):(b=new a.ApiomatRequestError(a.Status.HREF_NOT_FOUND),d?a.Datastore.negativeCallback(d,b):console&&console.error&&console.error("Error occured: "+b))}function d(b,c,d){var f=h.substring(0,h.indexOf("yambas")+6)+"/oauth/token",m="",g;for(g in b)""!==m&&(m+="\x26"),m+=g+"\x3d"+b[g];e("POST",f,[200],{onOk:function(b){var d={};b=JSON.parse(b)||{};d.sessionToken=b.access_token;d.refreshToken=b.refresh_token;var k=b.expires_in||
0;d.expirationDate=(new Date).getTime()+1E3*k;d.module=b.aom_module;d.model=b.aom_model;a.Datastore.positiveCallback(c,d)},onError:function(b){b=new a.ApiomatRequestError(b.statusCode,200,"Requesting the session token failed");"undefined"!==typeof c?a.Datastore.negativeCallback(c,b):console&&console.error&&console.error("Error occured: "+b)}},void 0,{data:m,returnpost:!0,headerDetails:{authHeader:!1,contentType:"application/x-www-form-urlencoded"}},d)}function e(b,c,d,e,f,m,x,p){m=m||{};var w=m.data||
void 0,y=m.withReferencedHrefs||void 0,r=m.isByteData||!1,n=m.returnpost||!1,q=m.headerDetails||{},z=m.isReload,M;L?(M=Ti.Network.createHTTPClient({onload:function(a){g(this,d,e,b,f,n,c,p)},onerror:function(b){var c=b.error||"";if(-1<c.indexOf("connection failure"))b=new a.ApiomatRequestError(a.Status.NO_NETWORK,d,c);else{if(-1<d.indexOf(this.status))throw b;b=new a.ApiomatRequestError(this.status,d,this.responseText)}"undefined"!==typeof e?a.Datastore.negativeCallback(e,b):Ti.API.error("Received HTTP error: "+
b)}}),M.overrideMimeType=function(){}):M="object"===typeof window&&window.XMLHttpRequest?new XMLHttpRequest:I?new exports.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");"GET"===b&&w&&(c+="?q\x3d"+encodeURIComponent(w));if(!1==L&&!1==I&&!1==R){var u=!1,u=S;"GET"===b&&(!1!=u&&10>=u)&&(c=w?c+"\x26":c+"?",c+="dIE\x3d"+(new Date).getTime())}"GET"===b&&("undefined"!=typeof y&&!0==y)&&(c=w||!1!=u&&10>=u?c+"\x26":c+"?",c+="withReferencedHrefs\x3d"+y);c="http"===c.substring(0,4)?c:"/apps"===c.substring(0,
5)?h.substring(0,h.indexOf("/apps"))+c:h+"/"+c;a.AOMNetworkHandler.isConnected()&&B!==a.AOMCacheStrategy.CACHE_ELSE_NETWORK&&B!==a.AOMCacheStrategy.CACHE_THEN_NETWORK||"GET"!==b?(M.open(b,c,A),t(c,b,M,r,q,z,x,p),r&&"GET"===b&&M.overrideMimeType("text/plain; charset\x3dx-user-defined"),!1==L&&(M.onreadystatechange=function(){4==M.readyState&&g(M,d,e,b,f,n,c,p)}),("POST"===b||"PUT"===b)&&"undefined"!==typeof w?m&&m.isByteData?(m=w,!1===L&&(w=new Uint8Array(w),m="ArrayBufferView"in window?w:w.buffer),
M.send(m)):M.send(w):M.send()):B!==a.AOMCacheStrategy.NETWORK_ONLY?l(e,f,c,M,b,r,q,x,d,n,p):(w=new a.ApiomatRequestError(a.Status.NO_NETWORK,d),"undefined"!==typeof e?a.Datastore.negativeCallback(e,w):"undefined"!==typeof console&&console.error&&console.error("Error occured: "+w))}function g(b,c,d,e,f,m,h,g){var x=!1;responseHook(b);processOfflineHook(!1);try{var w=b.responseURL,p=b.getResponseHeader("Content-Type"),l=void 0;if(p&&-1<p.indexOf("text/html")){for(var p=void 0,A=b.responseText,y=/<form.+method.?=.?"POST".+?action=.?"(.*?)".*?>/g;match=
y.exec(A);)for(var t in N)if(-1<match[1].indexOf(N[t])){p=match[1];break}l=p;if("undefined"!==typeof l){var r=new a.ApiomatRequestError(a.Status.SSO_REDIRECT,c,null);e={};e[a.SSO_REDIRECT_URL]=l;e[a.SSO_REDIRECT_DATA]=b.responseText;r.setExtraInformations(e);if("undefined"!==typeof d&&d.onError)d.onError(r,{status:b.status});return}}if(-1<c.indexOf(b.status)){if(d&&d.hasOwnProperty("onOk")){if((R||S)&&"GET"===e)U[h]=b.getResponseHeader("Last-Modified"),S&&(T[h]=b.getResponseHeader(a.HEADER.ETAG));
var n=b.responseText;if("GET"===e&&0<n.length)try{if(B!==a.AOMCacheStrategy.NETWORK_ONLY){var u=z(g);u.addOrUpdateCollection(w?w:h,JSON.parse(n));if(O){var q={deletedItems:JSON.parse(b.getResponseHeader("X-apiomat-delta-deleted"))};q.deletedItems&&0<q.deletedItems.length&&(u=z(g),u.removeObjectsOnDelta(h,q.deletedItems))}}}catch(F){var l="",r=[],v,C;for(v=0;v<n.length;v++)r.push(n[v].charCodeAt(0)&255);for(C=0;C<r.length;C++)l+=String.fromCharCode(r[C]);u=z(g);u.addOrUpdateCollection(w?w:h,l);if(O){try{q=
{deletedItems:JSON.parse(b.getResponseHeader("X-apiomat-delta-deleted"))}}catch(H){q={deletedItems:void 0}}q.deletedItems&&0<q.deletedItems.length&&(u=z(g),u.removeObjectsOnDelta(h,q.deletedItems))}}"DELETE"===e&&B!==a.AOMCacheStrategy.NETWORK_ONLY&&z(g).removeObjectByHref(h);n=b.responseText;if("GET"===e&&"undefined"!==typeof f){var E=[],E=O&&B!==a.AOMCacheStrategy.NETWORK_ONLY||B===a.AOMCacheStrategy.NETWORK_ELSE_CACHE&&304===b.status?z(g).getCollectionObjects(h):JSON.parse(n);if(E instanceof Array){n=
[];for(v=0;v<E.length;v++){var I=new f;I.fromJson(E[v]);n.push(I)}}else n=new f,n.fromJson(E)}f=void 0;"POST"===e&&!1===m&&(f=b.getResponseHeader("Location"));"GET"===e&&B===a.AOMCacheStrategy.CACHE_THEN_NETWORK&&d.hasOwnProperty("onSecondOk")?a.Datastore.secondPositiveCallback(d,n):a.Datastore.positiveCallback(d,"GET"===e||m?n:f||void 0,q,{status:b.status})}}else if("GET"===e&&B===a.AOMCacheStrategy.NETWORK_ELSE_CACHE){if("undefined"!==typeof f)if(E=[],E=z(g).getCollectionObjects(h),E instanceof
Array){n=[];for(v=0;v<E.length;v++)I=new f,I.fromJson(E[v]),n.push(I)}else n=new f,n.fromJson(E);a.Datastore.positiveCallback(d,n)}else x=!0}catch(P){L&&Ti.API.log("Error occured: "+P);if(b&&-1<c.indexOf(b.status))throw P;x=!0}finally{x&&(console.log("Status: "+b.status),r=new a.ApiomatRequestError(b.status,c,b.responseText),"undefined"!==typeof d?a.Datastore.negativeCallback(d,r,{status:b.status}):"undefined"!==typeof console&&console.error&&console.error("Error occured: "+r))}}function l(b,c,d,
e,f,m,h,w,x,p,l){processOfflineHook(!0);var n=!1,r;try{if(b&&b.hasOwnProperty("onOk")){var y,q=z(l).getCollectionObjects(d);if(q){if(q instanceof Array){y=[];var u;for(u=0;u<q.length;u++){var v=new c;v.fromJson(q[u]);y.push(v)}}else c?(y=new c,y.fromJson(q)):y=q instanceof Object?JSON.stringify(q):q;a.Datastore.positiveCallback(b,y);B===a.AOMCacheStrategy.CACHE_THEN_NETWORK&&(e.open(f,d,A),t(d,f,e,m,h,w,l),m&&"GET"===f&&e.overrideMimeType("text/plain; charset\x3dx-user-defined"),!1==L&&(e.onreadystatechange=
function(){4==e.readyState&&g(e,x,b,f,c,p,d,l)}),e.send())}else a.AOMNetworkHandler.isConnected()&&B===a.AOMCacheStrategy.CACHE_ELSE_NETWORK||B===a.AOMCacheStrategy.CACHE_THEN_NETWORK?(B===a.AOMCacheStrategy.CACHE_THEN_NETWORK&&a.Datastore.positiveCallback(b,[]),e.open(f,d,A),t(d,f,e,m,h,w,l),m&&"GET"===f&&e.overrideMimeType("text/plain; charset\x3dx-user-defined"),!1==L&&(e.onreadystatechange=function(){4==e.readyState&&g(e,x,b,f,c,p,d,l)}),e.send()):(n=!0,r=new a.ApiomatRequestError(a.Status.ID_NOT_FOUND_OFFLINE,
201,"No data found offline"))}}catch(C){L&&Ti.API.log("Error occured: "+C),n=!0}finally{n&&(r||(r=new a.ApiomatRequestError(a.Status.HREF_NOT_FOUND)),"undefined"!==typeof b?a.Datastore.negativeCallback(b,r):"undefined"!==typeof console&&console.error&&console.error("Error occured: "+r))}}function t(b,c,d,e,f,h,g,p){d.setRequestHeader("X-apiomat-system",w);d.setRequestHeader("X-apiomat-apikey",x);f.contentType?d.setRequestHeader("Content-Type",f.contentType):"undefined"!==typeof e&&e?d.setRequestHeader("Content-Type",
"application/octet-stream"):(d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Accept","application/json"));d.setRequestHeader("X-apiomat-fullupdate","true");if(!(f.hasOwnProperty("authHeader")&&!1==f.authHeader))if(E===a.AOMAuthType.USERNAME_PASSWORD){e=m+":"+n;if(I)try{e=(new (require("buffer").Buffer)(e)).toString("base64")}catch(l){e=Base64.Base64.encode(e)}else try{e=Base64.encode(e)}catch(r){e=Base64.Base64.encode(e)}d.setRequestHeader("Authorization","Basic "+e)}else E===
a.AOMAuthType.OAUTH2_TOKEN&&d.setRequestHeader("Authorization","Bearer "+u);d.setRequestHeader("X-apiomat-sdkVersion",y);(R||L)&&"GET"===c?d.setRequestHeader("If-Modified-Since","01.01.1970 00:00:00:00 CEST"):S&&"GET"===c&&(d.setRequestHeader(a.HEADER.MODIFIED_SINCE,"Wed, 02 Mar 1970 12:00:00 GMT"),d.setRequestHeader(a.HEADER.EXPIRES,-1),d.setRequestHeader(a.HEADER.CACHE_CONTROL,"must-revalidate, private"),h&&(T[b]&&d.setRequestHeader("If-None-Match",T[b]),null!==U[b]&&d.setRequestHeader(a.HEADER.LAST_MODIFIED,
U[b])));if(g&&"GET"==c&&O&&B!==a.AOMCacheStrategy.NETWORK_ONLY)if(c=z(p),b=c.getCollection(b)){h=[];for(i=0;i<b.length;i++)(g=c.getObject(b[i]))&&h.push(g);d.setRequestHeader("X-apiomat-delta",q(h));headerHook(h)}else d.setRequestHeader("X-apiomat-delta","{}")}function v(a){var b=h,b=b+"/models/"+a.getModuleName(),b=b+"/";return b+=a.getSimpleName()}function C(a){var b=h,b=b+"/models/"+a.prototype.getModuleName.call(),b=b+"/";return b+=a.prototype.getSimpleName.call()}function F(a){var b=h,b=b+"/data/"+
(a?"images":"files");return b+="/"}function q(a){var b="{";for(i=0;i<a.length;i++)0<i&&(b=b.concat(", ")),b=b.concat("'"+a[i].id+"' : '"+a[i].lastModifiedAt+"'");return b=b.concat("}")}function z(b){if(b&&!r)if(B)!r&&B!==a.AOMCacheStrategy.NETWORK_ONLY&&(r=new a.AOMOfflineHandler),"undefined"!==typeof r&&r.init(void 0,void 0);else throw"No cachingStrategy is set. Please set the strategy in the Datastore with setCachingStrategy(cacheStrategy, callback)";return b?a.AOMOfflineStorage:a.MemoryStorage}
var H,n,m,h,x,w,y,A=!0,p=a.AOMOfflineStrategy.NO_OFFLINE_HANDLING,r=void 0,E=a.AOMAuthType.GUEST,u,P=void 0,N=[],O=!1,V={},B=a.AOMCacheStrategy.NETWORK_ELSE_CACHE,R=a.AOMHelper.isSafari(),L=a.AOMHelper.isTitaniumApp(),I=a.AOMHelper.isNodeJS(),S=a.AOMHelper.detectIE(),U=[],T=[];a.MemoryStorage.clearCollections();a.MemoryStorage.clearObjects();return{getInstance:function(){H||(H=b());return H},isInstantiated:function(){return"undefined"!==typeof H&&H},positiveCallback:function(a,b,c){a||console.log("Positive callback: callback not defined");
var d;if("undefined"!==typeof a&&a!={})for(d in a){var e="function"==typeof a[d]&&"onok"==d.toString().toLowerCase()?d.toString():void 0;if("undefined"!=typeof e){if(b&&"undefined"!=typeof b&&null!==b)a[e](b,c);else a[e](void 0,c);break}}},secondPositiveCallback:function(a,b,c){a||console.log("Second positive callback: callback not defined");var d;if("undefined"!==typeof a&&a!={})for(d in a){var e="function"==typeof a[d]&&"onsecondok"==d.toString().toLowerCase()?d.toString():void 0;if("undefined"!=
typeof e){if(b&&"undefined"!=typeof b)a[e](b,c);else a[e]();break}}},negativeCallback:function(a,b,c){var d;if("undefined"!==typeof a&&a!={})for(d in a)if(c="function"==typeof a[d]&&"onerror"==d.toString().toLowerCase()?d.toString():void 0,"undefined"!=typeof c){if(b&&"undefined"!=typeof b)a[c](b);else a[c]();break}},configure:function(a){this.configureWithCredentials(a)},configureWithCredentials:function(b){c(a.User.AOMBASEURL,a.User.AOMAPIKEY,a.User.AOMSYS,a.User.AOMSDKVERSION,b.getUserName(),b.getPassword())},
configureAsGuest:function(a,b,d,e){c(a,b,d,e)},configureWithUserSessionToken:function(a){this.configureWithSessionToken(a.getSessionToken())},configureWithSessionToken:function(b){c(a.User.AOMBASEURL,a.User.AOMAPIKEY,a.User.AOMSYS,a.User.AOMSDKVERSION,void 0,void 0,b)},configurePlain:function(a,b,c,d){this.configureAsGuest(a,b,c,d)},setOfflineStrategy:function(b,c){p=b;!r&&p!=a.AOMOfflineStrategy.NO_OFFLINE_HANDLING&&(r=new a.AOMOfflineHandler);"undefined"!==typeof r&&("undefined"!==typeof c?r.init(c.onOk||
void 0,c.onError||void 0):r.init(void 0,void 0))},getCachingStrategy:function(){return B},setCachingStrategy:function(b,c){if(!this)throw"The datastore hasn't been configured yet - call Datastore.configure(...) before sending requests.";B=b;!r&&B!==a.AOMCacheStrategy.NETWORK_ONLY&&(r=new a.AOMOfflineHandler);"undefined"!==typeof r&&("undefined"!==typeof c?r.init(c.onOk||void 0,c.onError||void 0):r.init(void 0,void 0))},setUseDeltaSync:function(b){console.log(67);O=b;a.MemoryStorage.setUseDeltaSync(b);
a.AOMOfflineStorage.setUseDeltaSync(b)}}}()})("undefined"===typeof exports?Apiomat:exports);"undefined"!==typeof goog&&(Apiomat.AbstractClientDataModel={});"undefined"===typeof exports&&(Apiomat=Apiomat||{});
(function(a){a.ObjectState={TRANSIENT:"TRANSIENT",DELETING:"DELETING",DELETED:"DELETED",PERSISTING:"PERSISTING",PERSISTED:"PERSISTED",LOCAL_PERSISTED:"LOCAL_PERSISTED",LOCAL_DELETED:"LOCAL_DELETED"};a.AbstractClientDataModel=function(){this.data={};this.toJson=function(){this.getHref()&&(this.data.id=this.getID());this.data["@type"]=this.getType();var a=JSON.stringify(this.data);delete this.data.id;return a};this.fromJson=function(c){if("object"===typeof c)for(var b in c)this.data[b]=c[b];else this.data=
JSON.parse(c);this.setCurrentState(a.ObjectState.PERSISTED);return this};this.getCurrentState=function(){return this.currentState};this.setCurrentState=function(a){this.currentState=a}};a.AbstractClientDataModel.prototype={getModuleName:function(){throw new a.ApiomatRequestError(void 0,void 0,"Must be implemented by child");},getSimpleName:function(){throw new a.ApiomatRequestError(void 0,void 0,"Must be implemented by child");},getType:function(){return this.getModuleName()+"$"+this.getSimpleName()},
getHref:function(){return this.data.href},getRefModelHrefs:function(){return this.data.referencedHrefs},getRefModelHrefsForName:function(a){var b=this.getRefModelHrefs();return b.hasOwnProperty(a)||a in b?b[a]:null},getAllowedRolesGrant:function(){return this.data.allowedRolesGrant},setAllowedRolesGrant:function(a){this.data.allowedRolesGrant=a},getAllowedRolesWrite:function(){return this.data.allowedRolesWrite},setAllowedRolesWrite:function(a){this.data.allowedRolesWrite=a},getAllowedRolesRead:function(){return this.data.allowedRolesRead},
setAllowedRolesRead:function(a){this.data.allowedRolesRead=a},getRstrictResourceAccess:function(){return this.data.restrictResourceAccess},setRestrictResourceAccess:function(a){this.data.restrictResourceAccess=a},getForeignId:function(){return this.data.foreignId},setForeignId:function(a){this.data.foreignId=a},getCreatedAt:function(){return new Date(this.data.createdAt)},getLastModifiedAt:function(){return new Date(this.data.lastModifiedAt)},getAppName:function(){return this.data.applicationName},
load:function(a,b){this.loadWithHref(void 0,a,b)},loadAndRefHref:function(a,b){this.loadWithHrefAndRefHref(void 0,a,b)},loadWithHref:function(c,b,f){this.isIllegalState()?(c="Object is in persisting or deleting process. Please try again later",this.getCurrentState()==a.ObjectState.PERSISTING?c=new a.ApiomatRequestError(a.Status.IN_PERSISTING_PROCESS,201,"Object is in persisting process. Please try again later"):this.getCurrentState()==a.ObjectState.DELETING&&(c=new a.ApiomatRequestError(a.Status.IN_DELETING_PROCESS,
201,"Object is in deleting process. Please try again later")),a.Datastore.negativeCallback(b,c)):a.Datastore.getInstance().loadFromServer(c||this.getHref(),b,this,!1,void 0,void 0,void 0,f)},loadWithHrefAndRefHref:function(c,b,f){this.isIllegalState()?(c="Object is in persisting or deleting process. Please try again later",this.getCurrentState()==a.ObjectState.PERSISTING?c=new a.ApiomatRequestError(a.Status.IN_PERSISTING_PROCESS,201,"Object is in persisting process. Please try again later"):this.getCurrentState()==
a.ObjectState.DELETING&&(c=new a.ApiomatRequestError(a.Status.IN_DELETING_PROCESS,201,"Object is in deleting process. Please try again later")),a.Datastore.negativeCallback(b,c)):a.Datastore.getInstance().loadFromServer(c||this.getHref(),b,this,!0,void 0,void 0,!1,f)},save:function(c,b,f){if(this.isIllegalState()){var d="Object is in persisting or deleting process. Please try again later";this.getCurrentState()==a.ObjectState.PERSISTING?d=new a.ApiomatRequestError(a.Status.IN_PERSISTING_PROCESS,201,
"Object is in persisting process. Please try again later"):this.getCurrentState()==a.ObjectState.DELETING&&(d=new a.ApiomatRequestError(a.Status.IN_DELETING_PROCESS,201,"Object is in deleting process. Please try again later"));a.Datastore.negativeCallback(c,d)}else this.setCurrentState(a.ObjectState.PERSISTING),b="undefined"!==typeof b&&b.constructor===Boolean?b:!0,d={onOk:function(d){!this.parent.getHref()&&d&&(this.parent.data.href=d);this.parent.setOffline(this.wasLocalSave||!1);!this.wasLocalSave&&
b?(this.parent.setCurrentState(a.ObjectState.PERSISTED),this.parent.load({onOk:function(){a.Datastore.positiveCallback(c)},onError:function(b){a.Datastore.negativeCallback(c,b)},onSecondOk:function(){a.Datastore.secondPositiveCallback(c)}},f)):(this.parent.setCurrentState(a.ObjectState.LOCAL_PERSISTED),a.Datastore.positiveCallback(c))},onError:function(b){this.parent.setCurrentState(a.ObjectState.TRANSIENT);a.Datastore.negativeCallback(c,b)},onSecondOk:function(){},parent:this},this.getHref()?a.Datastore.getInstance().shouldSendOffline("PUT")?
(d.wasLocalSave=!0,a.Datastore.getInstance().sendOffline("PUT",this.getHref(),this,void 0,d)):a.Datastore.getInstance().updateOnServer(this,d,f):a.Datastore.getInstance().shouldSendOffline("POST")?(d.wasLocalSave=!0,a.Datastore.getInstance().sendOffline("POST",void 0,this,void 0,d)):a.Datastore.getInstance().postOnServer(this,d,void 0,f)},deleteModel:function(c,b){if(this.isIllegalState()){var f="Object is in persisting or deleting process. Please try again later";this.getCurrentState()==a.ObjectState.PERSISTING?
f=new a.ApiomatRequestError(a.Status.IN_PERSISTING_PROCESS,201,"Object is in persisting process. Please try again later"):this.getCurrentState()==a.ObjectState.DELETING&&(f=new a.ApiomatRequestError(a.Status.IN_DELETING_PROCESS,201,"Object is in deleting process. Please try again later"));a.Datastore.negativeCallback(c,f)}else this.setCurrentState(a.ObjectState.DELETING),f={onOk:function(b){this.parent.setCurrentState(this.finishedState);"undefined"!=typeof b?a.Datastore.positiveCallback(c,b):a.Datastore.positiveCallback(c)},
onError:function(b){this.parent.setCurrentState(a.ObjectState.TRANSIENT);a.Datastore.negativeCallback(c,b)},parent:this},a.Datastore.getInstance().shouldSendOffline("DELETE")?(f.finishedState=a.ObjectState.LOCAL_DELETED,a.Datastore.getInstance().sendOffline("DELETE",this.getHref(),this,void 0,f)):(f.finishedState=a.ObjectState.DELETED,a.Datastore.getInstance().deleteModelOnServer(this,f,b))},isOffline:function(){return this.data.isOffline||!1},setOffline:function(a){this.data.isOffline=a},getID:function(){return this.getHref().substring(this.getHref().lastIndexOf("/")+
1)},getAllObjectStates:function(){return this.ObjectState},isIllegalState:function(){var c=!1;a.Datastore.getInstance().getCheckObjectState()&&(c=this.getCurrentState()==a.ObjectState.PERSISTING||this.getCurrentState()==a.ObjectState.DELETING);return c}}})("undefined"===typeof exports?Apiomat:exports);"undefined"!==typeof goog&&(Apiomat.AOMOfflineInfo={},Apiomat.AOMOfflineHandler={});"undefined"===typeof exports&&(Apiomat=Apiomat||{});
(function(a){a.AOMOfflineInfo=function(a,b,f,d,e,g,l){this.httpMethod=a;this.fileKey=f;this.timestamp=d;this.url=b;this.clazz=d;this.localId=e;this.refName=g;this.isStaticData=l};a.AOMOfflineHandler=function(){a.AOMOfflineHandler.AOMTASKEVENT="AomTaskEvent";var c=[],b={},f={},d=[],e=new a.AOMFileHandler;a.AOMHelper.isTitaniumApp()&&(e=new a.AOMFileHandlerTi);a.AOMHelper.addEventListener(a.AOMNetworkHandler.AOMNETWORKEVENT,function(a){l()});var g=function(a,b,c,d){e.readFile(a,function(a){a&&JSON.parse(a);
c&&c()},function(b){console.error("Error on restoring content of "+a+" --\x3e "+b.code);d&&d(b)})},l=function(){if(1>c.length)b={},z();else if(!1!==a.AOMNetworkHandler.isConnected()){var f=c.shift();delete d[f.localId];H();e.readFile(f.fileKey,function(a){e.removeFile(f.fileKey);if(a&&!1===f.isStaticData){var b=new f.clazz;b.fromJson(a);a=b}(a||f.isStaticData&&f.url)&&v(f,a,f.isStaticData,!0)},function(a){console.error("Error occured on reading file "+a)})}},t={extCallback:void 0,onOk:function(a){if(t.extCallback&&
t.extCallback.onOk)t.extCallback.onOk(a);l()},onError:function(a){if(t.extCallback&&t.extCallback.onError)t.extCallback.onError(a);l()}},v=function(c,d,e){var g=c.url,l=void 0!=c.refName&&0<c.refName.length;switch(c.httpMethod){case "POST":l&&!1===e&&(g=g.substring(g.lastIndexOf("/")+1),F(d),g=b[g]+"/"+c.refName);t.extCallback={onOk:function(d){if(null!=d&&0<d.length){b[c.localId]=d;z();if(!1===e){var g=c.localId;if((model=f[g])&&model.isOffline())delete f[g],model.data.href=d,model.setOffline(!1)}a.AOMHelper.sendEvent(a.AOMOfflineHandler.AOMTASKEVENT,
{wasSuccess:!0,info:c,href:d})}},onError:function(b){a.AOMHelper.sendEvent(a.AOMOfflineHandler.AOMTASKEVENT,{wasSuccess:!1,reason:b,info:c,href:n})}};g?e?a.Datastore.getInstance().postStaticDataOnServerWithHref(d,g,t,!0):a.Datastore.getInstance().postOnServer(d,t,g,!0):a.AOMHelper.sendEvent(a.AOMOfflineHandler.AOMTASKEVENT,{wasSuccess:!1,reason:error,info:c,href:n});break;case "PUT":var n=F(d);void 0!==n&&0<n.length?(t.extCallback={onOk:function(){a.AOMHelper.sendEvent(a.AOMOfflineHandler.AOMTASKEVENT,
{wasSuccess:!0,info:c})},onError:function(b){a.AOMHelper.sendEvent(a.AOMOfflineHandler.AOMTASKEVENT,{wasSuccess:!1,reason:b,info:c})}},a.Datastore.getInstance().updateOnServer(d,t,!0)):a.AOMHelper.sendEvent(a.AOMOfflineHandler.AOMTASKEVENT,{wasSuccess:!1,reason:a.Status.HREF_NOT_FOUND,info:c});break;case "DELETE":n=void 0,n=e?q(g):F(d),l&&(g=g.substring(g.lastIndexOf("/")+1),n=b[g]+"/"+c.refName+"/"+n.substring(n.lastIndexOf("/")+1)),n&&0<n.length?(t.extCallback={onOk:function(){a.AOMHelper.sendEvent(a.AOMOfflineHandler.AOMTASKEVENT,
{wasSuccess:!0,info:c})},onError:function(b){a.AOMHelper.sendEvent(a.AOMOfflineHandler.AOMTASKEVENT,{wasSuccess:!1,reason:b,info:c})}},l||e?a.Datastore.getInstance().deleteOnServer(n,!0,t):a.Datastore.getInstance().deleteModelOnServer(d,!0,t)):a.sendEvent(a.AOMOfflineHandler.AOMTASKEVENT,{wasSuccess:!1,reason:a.Status.HREF_NOT_FOUND,info:c})}},C=function(){for(var b=0,c=Math.floor(1E6*Math.random()+1);d[c]&&5>b;)b++,c=Math.floor(1E6*Math.random()+1);if(4<=b)throw new a.ApiomatRequestError(a.Status.TOO_MANY_LOCALIDS);
return c},F=function(a){var c=a.getHref();if(a.isOffline()){var d=a.getID();if(void 0!==d&&0<d.length&&(d=b[d]))c=d,a.data.href=c;for(var e in a.data)e.endsWith("URL")&&(d=q(a.data[e]))&&(a.data[e]=d)}return c},q=function(a){a=a.substring(a.lastIndexOf("/")+1);return b[a]},z=function(){return e.writeFile(a.AOMFileHandler.HREFMAP_FILENAME,JSON.stringify(b))},H=function(){e.writeFile(a.AOMFileHandler.USEDLOCALIDS_FILENAME,JSON.stringify(d));e.writeFile(a.AOMFileHandler.TASKLIST_FILENAME,JSON.stringify(c))},
n=function(b,c,d,f){var g=void 0;e.getSizeOfAppDir(function(l){l&&l>=1024*this.cacheSizeInMB?(console.error("Max cache size is reached. Can't add to cache!"),f&&f(new a.ApiomatRequestError(a.Status.MAX_CACHE_SIZE_REACHED))):(g=e.createFileName(c),e.writeFile(g,b||"",function(){d&&d(g)},function(b){console.error("Can't persist to cache: "+b.code);f&&f(new a.ApiomatRequestError(a.Status.CANT_WRITE_IN_CACHE))}))})};this.cacheSizeInMB=4;this.addTask=function(b,d,e,g,l,q){var p=d,r=!1===e instanceof a.AbstractClientDataModel,
t=e;!1===r&&(t=e.toJson());var u=void 0;if("POST"===b){try{u=C()}catch(v){throw v;}-1===p.indexOf("/",this.length-1)&&(p+="/");p+=(g?g+"/":"")+u;!1===r&&(f[u]=e)}n(t,u||b,function(f){f&&(f=new a.AOMOfflineInfo(b,d,f,e?e.constructor:void 0,u,g,r),c.push(f),H());l&&l(p)},function(a){console.error("Got error on adding task to offline queue: "+a);q&&q(a)})};this.init=function(e,f){var n=function(){g(a.AOMFileHandler.USEDLOCALIDS_FILENAME,d,function(){l();"undefined"!==typeof e&&e()},function(a){"undefined"!==
typeof f&&f(a)})},q=function(){g(a.AOMFileHandler.HREFMAP_FILENAME,b,function(){n()},function(a){n()})};g(a.AOMFileHandler.TASKLIST_FILENAME,c,function(){q()},function(a){q()})};this.isConnected=function(){return a.AOMNetworkHandler.isConnected()};this.clearCache=function(){b={};z();for(var a=0,d=c.length;a<d;a++){var g=c[a];g.fileKey&&e.removeFile(g.fileKey)}f={};c=[];H()}}})("undefined"===typeof exports?Apiomat:exports);"undefined"!==typeof goog&&(Apiomat.Role={});"undefined"===typeof exports&&(Apiomat=Apiomat||{});
(function(a){a.Role=function(){this.init()};a.Role.getRoles=function(c,b,f){a.Datastore.getInstance().loadListFromServerWithClass(a.Role,c,b,!1,f)};a.Role.getRolesAndRefHref=function(c,b,f,d){a.Datastore.getInstance().loadListFromServerWithClass(a.Role,c,b,f,d)};a.Role.getRolesCount=function(c,b,f){a.Datastore.getInstance().loadCountFromServer(a.Role,void 0,c,b,f)};a.Role.deleteAllFromStorage=function(c,b){a.Datastore.getInstance().deleteCollectionFromStorage(!1,a.Role,c,b)};a.Role.deleteAllFromStorageWithReferencedHrefs=
function(c,b){a.Datastore.getInstance().deleteCollectionFromStorage(!0,a.Role,c,b)};a.Role.prototype=new a.AbstractClientDataModel;a.Role.prototype.constructor=a.Role;a.Role.prototype.init=function(){this.data={}};a.Role.prototype.getSimpleName=function(){return"Role"};a.Role.prototype.getModuleName=function(){return"Basics"};a.Role.prototype.getMembers=function(){return this.data.members};a.Role.prototype.setMembers=function(a){this.data.members=a};a.Role.prototype.getName=function(){return null!==
this.data.name?this.data.name:void 0};a.Role.prototype.setName=function(a){this.data.name=a}})("undefined"===typeof exports?Apiomat:exports);"undefined"!==typeof goog&&(Apiomat.User={});"undefined"===typeof exports&&(Apiomat=Apiomat||{});
(function(a){a.User=function(c,b){this.init();"undefined"!==typeof c&&this.setUserName(c);"undefined"!==typeof b&&this.setPassword(b);this.initDatastoreIfNeeded=function(b){if(!1===a.Datastore.isInstantiated())if("undefined"!==typeof this.getUserName()&&"undefined"!==typeof this.getPassword())a.Datastore.configureWithCredentials(this);else if("getSessionToken"in this&&"undefined"!==typeof this.getSessionToken()&&this.getSessionToken())a.Datastore.configureWithSessionToken(this.getSessionToken());
else if("undefined"!==typeof b&&b)a.Datastore.configurePlain(a.User.AOMBASEURL,a.User.AOMAPIKEY,a.User.AOMSYS);else throw Error("The Datastore needs to be configured with user credentials or a session token for this method to work.");};this.save=function(b,c){this.initDatastoreIfNeeded(!1);a.AbstractClientDataModel.prototype.save.apply(this,[b,c])};this.requestNewPassword=function(b,c){a.Datastore.getInstance().postOnServer(this,{onOk:function(b){a.Datastore.positiveCallback(c)},onError:function(b){a.Datastore.negativeCallback(c,
b)}},"models/requestResetPassword/",b)};this.resetPasswordAsync=function(b,c){a.Datastore.getInstance().postOnServer(this,b,"models/requestResetPassword/",c)};this.resetPassword=function(a,b,c){this.changePassword(a,b,c)};this.changePassword=function(b,c,e){if(this.getCurrentState==a.ObjectState.PERSISTING)a.Datastore.negativeCallback(c,error);else{var g={onOk:function(){this.parent.setOffline(this.wasLocalSave||!1);a.Datastore.configure(this.parent);a.Datastore.positiveCallback(c)},onError:function(b){a.Datastore.negativeCallback(c,
b)},parent:this};this.setPassword(b);a.Datastore.getInstance().shouldSendOffline("PUT")?(g.wasLocalSave=!0,a.Datastore.getInstance().sendOffline("PUT",this.getHref(),this,void 0,g)):a.Datastore.getInstance().updateOnServer(this,g,e)}};this.requestSessionToken=function(a,b,c,g){this.requestSessionTokenWithRefreshToken(void 0,a,b,!1,c,g)};this.requestSessionTokenWithRefreshToken=function(b,c,e,g,l,t){b=b||void 0;this.initDatastoreIfNeeded("undefined"===b?!1:!0);var v=e;"undefined"!==typeof c&&c&&(v=
{onOk:function(b){var c=b.sessionToken||"";""===c?a.Datastore.negativeCallback(e,new a.ApiomatRequestError(a.Status.NO_TOKEN_RECEIVED,200)):(this.parent.setSessionToken(c),a.Datastore.configureWithUserSessionToken(this.parent),a.Datastore.positiveCallback(e,b))},onError:function(b){a.Datastore.negativeCallback(e,b)},parent:this});"undefined"===typeof b?a.Datastore.getInstance().requestSessionToken(v,g,l,t):a.Datastore.getInstance().requestSessionTokenWithRefreshToken(b,v,g,l,t)}};a.User.AOMBASEURL=
"https://epdemo.apiomat.enterprises/yambas/rest/apps/AMAG";a.User.AOMAPIKEY="2463067928707811267";a.User.AOMSYS="LIVE";a.User.AOMSDKVERSION="2.4.5-18";a.User.ANALYTICSURL="https://epdemo.apiomat.enterprises/analytics";a.User.ANALYTICSAPPKEY="93dbfd00e40c4143dcffe1c500aab9336d3c4172";a.User.getUsers=function(c,b,f){a.Datastore.getInstance().loadListFromServerWithClass(a.User,c,b,!1,f)};a.User.getUsersAndRefHref=function(c,b,f,d){a.Datastore.getInstance().loadListFromServerWithClass(a.User,c,b,f,d)};
a.User.getUsersCount=function(c,b,f){a.Datastore.getInstance().loadCountFromServer(a.User,void 0,c,b,f)};a.User.deleteAllFromStorage=function(c,b){a.Datastore.getInstance().deleteCollectionFromStorage(!1,a.User,c,b)};a.User.deleteAllFromStorageWithReferencedHrefs=function(c,b){a.Datastore.getInstance().deleteCollectionFromStorage(!0,a.User,c,b)};a.User.prototype=new a.AbstractClientDataModel;a.User.prototype.constructor=a.User;a.User.prototype.loadMe=function(c,b){this.initDatastoreIfNeeded(!1);a.Datastore.getInstance().loadFromServer("models/me",
c,this,!1,b)};a.User.prototype.init=function(){this.data={};this.data.dynamicAttributes={}};a.User.prototype.getSimpleName=function(){return"User"};a.User.prototype.getModuleName=function(){return"Basics"};a.User.prototype.getDateOfBirth=function(){var a=this.data.dateOfBirth;return"undefined"!=typeof a?new Date(a):void 0};a.User.prototype.setDateOfBirth=function(a){this.data.dateOfBirth=null!=a&&void 0!=a?a.getTime():null};a.User.prototype.getFirstName=function(){return null!==this.data.firstName?
this.data.firstName:void 0};a.User.prototype.setFirstName=function(a){this.data.firstName=a};a.User.prototype.getLastName=function(){return null!==this.data.lastName?this.data.lastName:void 0};a.User.prototype.setLastName=function(a){this.data.lastName=a};a.User.prototype.getLocLatitude=function(){var a=this.data.loc;if(a)return a[0]};a.User.prototype.getLocLongitude=function(){var a=this.data.loc;if(a)return a[1]};a.User.prototype.setLocLatitude=function(a){var b=this.data.loc;b?b[0]=a:b=[a,void 0];
this.data.loc=b};a.User.prototype.setLocLongitude=function(a){var b=this.data.loc;b?b[1]=a:b=[0,a];this.data.loc=b};a.User.prototype.getPassword=function(){return null!==this.data.password?this.data.password:void 0};a.User.prototype.setPassword=function(a){this.data.password=a};a.User.prototype.getSalt=function(){return null!==this.data.salt?this.data.salt:void 0};a.User.prototype.setSalt=function(a){this.data.salt=a};a.User.prototype.getSessionToken=function(){return null!==this.data.sessionToken?
this.data.sessionToken:void 0};a.User.prototype.setSessionToken=function(a){this.data.sessionToken=a};a.User.prototype.getUserName=function(){return null!==this.data.userName?this.data.userName:void 0};a.User.prototype.setUserName=function(a){this.data.userName=a}})("undefined"===typeof exports?Apiomat:exports);"undefined"!==typeof goog&&(Apiomat.LDAPUser={});"undefined"===typeof exports&&(Apiomat=Apiomat||{});
(function(a){a.LDAPUser=function(a,b){this.init();"undefined"!==typeof a&&this.setUserName(a);"undefined"!==typeof b&&this.setPassword(b)};a.LDAPUser.getLDAPUsers=function(c,b,f){a.Datastore.getInstance().loadListFromServerWithClass(a.LDAPUser,c,b,!1,f)};a.LDAPUser.getLDAPUsersAndRefHref=function(c,b,f,d){a.Datastore.getInstance().loadListFromServerWithClass(a.LDAPUser,c,b,f,d)};a.LDAPUser.getLDAPUsersCount=function(c,b,f){a.Datastore.getInstance().loadCountFromServer(a.LDAPUser,void 0,c,b,f)};a.LDAPUser.deleteAllFromStorage=
function(c,b){a.Datastore.getInstance().deleteCollectionFromStorage(!1,a.LDAPUser,c,b)};a.LDAPUser.deleteAllFromStorageWithReferencedHrefs=function(c,b){a.Datastore.getInstance().deleteCollectionFromStorage(!0,a.LDAPUser,c,b)};a.LDAPUser.prototype=new a.User;a.LDAPUser.prototype.constructor=a.LDAPUser;a.LDAPUser.prototype.init=function(){a.User.prototype.init.call(this);this.data.dynamicAttributes={}};a.LDAPUser.prototype.getSimpleName=function(){return"LDAPUser"};a.LDAPUser.prototype.getModuleName=
function(){return"LDAP"};a.LDAPUser.prototype.getDistinguishedName=function(){return null!==this.data.distinguishedName?this.data.distinguishedName:void 0};a.LDAPUser.prototype.setDistinguishedName=function(a){this.data.distinguishedName=a};a.LDAPUser.prototype.getUserAttributes=function(){return null!==this.data.userAttributes?this.data.userAttributes:void 0};a.LDAPUser.prototype.setUserAttributes=function(a){this.data.userAttributes=a}})("undefined"===typeof exports?Apiomat:exports);"undefined"!==typeof goog&&(Apiomat.AMAGUser={});"undefined"===typeof exports&&(Apiomat=Apiomat||{});
(function(a){a.AMAGUser=function(a,b){this.init();"undefined"!==typeof a&&this.setUserName(a);"undefined"!==typeof b&&this.setPassword(b)};a.AMAGUser.getAMAGUsers=function(c,b,f){a.Datastore.getInstance().loadListFromServerWithClass(a.AMAGUser,c,b,!1,f)};a.AMAGUser.getAMAGUsersAndRefHref=function(c,b,f,d){a.Datastore.getInstance().loadListFromServerWithClass(a.AMAGUser,c,b,f,d)};a.AMAGUser.getAMAGUsersCount=function(c,b,f){a.Datastore.getInstance().loadCountFromServer(a.AMAGUser,void 0,c,b,f)};a.AMAGUser.deleteAllFromStorage=
function(c,b){a.Datastore.getInstance().deleteCollectionFromStorage(!1,a.AMAGUser,c,b)};a.AMAGUser.deleteAllFromStorageWithReferencedHrefs=function(c,b){a.Datastore.getInstance().deleteCollectionFromStorage(!0,a.AMAGUser,c,b)};a.AMAGUser.prototype=new a.LDAPUser;a.AMAGUser.prototype.constructor=a.AMAGUser;a.AMAGUser.prototype.init=function(){a.LDAPUser.prototype.init.call(this);this.data.dynamicAttributes={}};a.AMAGUser.prototype.getSimpleName=function(){return"AMAGUser"};a.AMAGUser.prototype.getModuleName=
function(){return"AMAGPhonebook"};a.AMAGUser.prototype.getAddressCity=function(){return null!==this.data.addressCity?this.data.addressCity:void 0};a.AMAGUser.prototype.setAddressCity=function(a){this.data.addressCity=a};a.AMAGUser.prototype.getAddressStreet=function(){return null!==this.data.addressStreet?this.data.addressStreet:void 0};a.AMAGUser.prototype.setAddressStreet=function(a){this.data.addressStreet=a};a.AMAGUser.prototype.getAddressStreetNumber=function(){return null!==this.data.addressStreetNumber?
this.data.addressStreetNumber:void 0};a.AMAGUser.prototype.setAddressStreetNumber=function(a){this.data.addressStreetNumber=a};a.AMAGUser.prototype.getAddressZipcode=function(){return null!==this.data.addressZipcode?this.data.addressZipcode:void 0};a.AMAGUser.prototype.setAddressZipcode=function(a){this.data.addressZipcode=a};a.AMAGUser.prototype.getEmail=function(){return null!==this.data.email?this.data.email:void 0};a.AMAGUser.prototype.setEmail=function(a){this.data.email=a};a.AMAGUser.prototype.getLanguage=
function(){return null!==this.data.language?this.data.language:void 0};a.AMAGUser.prototype.setLanguage=function(a){this.data.language=a};a.AMAGUser.prototype.getMobile=function(){return null!==this.data.mobile?this.data.mobile:void 0};a.AMAGUser.prototype.setMobile=function(a){this.data.mobile=a};a.AMAGUser.prototype.getOrganization=function(){return null!==this.data.organization?this.data.organization:void 0};a.AMAGUser.prototype.setOrganization=function(a){this.data.organization=a};a.AMAGUser.prototype.getTelephone=
function(){return null!==this.data.telephone?this.data.telephone:void 0};a.AMAGUser.prototype.setTelephone=function(a){this.data.telephone=a}})("undefined"===typeof exports?Apiomat:exports);